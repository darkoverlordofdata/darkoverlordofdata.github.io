(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var global=typeof self!=="undefined"?self:typeof window!=="undefined"?window:{};(function(){var $,AbstractChosen,Chosen,SelectParser,get_side_border_padding,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};AbstractChosen=function(){function AbstractChosen(form_field,options){this.form_field=form_field;this.options=options!=null?options:{};this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}AbstractChosen.prototype.set_default_values=function(){var _this=this;this.click_test_action=function(evt){return _this.test_active_click(evt)};this.activate_action=function(evt){return _this.activate_field(evt)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.search_contains=this.options.search_contains||false;this.choices=0;this.single_backstroke_delete=this.options.single_backstroke_delete||false;this.max_selected_options=this.options.max_selected_options||Infinity;return this.inherit_select_classes=this.options.inherit_select_classes||false};AbstractChosen.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options"}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option"}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"};AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=true};AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=false};AbstractChosen.prototype.input_focus=function(evt){var _this=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return _this.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}};AbstractChosen.prototype.input_blur=function(evt){var _this=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout(function(){return _this.blur_test()},100)}};AbstractChosen.prototype.result_add_option=function(option){var classes,style;if(!option.disabled){option.dom_id=this.container_id+"_o_"+option.array_index;classes=option.selected&&this.is_multiple?[]:["active-result"];if(option.selected){classes.push("result-selected")}if(option.group_array_index!=null){classes.push("group-option")}if(option.classes!==""){classes.push(option.classes)}style=option.style.cssText!==""?' style="'+option.style+'"':"";return'<li id="'+option.dom_id+'" class="'+classes.join(" ")+'"'+style+">"+option.html+"</li>"}else{return""}};AbstractChosen.prototype.results_update_field=function(){if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};AbstractChosen.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};AbstractChosen.prototype.results_search=function(evt){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};AbstractChosen.prototype.keyup_checker=function(evt){var stroke,_ref;stroke=(_ref=evt.which)!=null?_ref:evt.keyCode;this.search_field_scale();switch(stroke){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:evt.preventDefault();if(this.results_showing){return this.result_select(evt)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};AbstractChosen.prototype.generate_field_id=function(){var new_id;new_id=this.generate_random_id();this.form_field.id=new_id;return new_id};AbstractChosen.prototype.generate_random_char=function(){var chars,newchar,rand;chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";rand=Math.floor(Math.random()*chars.length);return newchar=chars.substring(rand,rand+1)};return AbstractChosen}();$=global.$;get_side_border_padding=function(elmt){var side_border_padding;return side_border_padding=elmt.outerWidth()-elmt.width()};$.fn.extend({chosen:function(options){var browser,match,ua;ua=window.navigator.userAgent.toLowerCase();match=/(msie) ([\w.]+)/.exec(ua)||[];browser={name:match[1]||"",version:match[2]||"0"};if(browser.name==="msie"&&(browser.version==="6.0"||browser.version==="7.0"&&document.documentMode===7)){return this}return this.each(function(input_field){var $this;$this=$(this);if(!$this.hasClass("chzn-done")){return $this.data("chosen",new Chosen(this,options))}})}});Chosen=function(_super){__extends(Chosen,_super);function Chosen(){_ref=Chosen.__super__.constructor.apply(this,arguments);return _ref}Chosen.prototype.setup=function(){this.form_field_jq=$(this.form_field);this.current_value=this.form_field_jq.val();return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};Chosen.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};Chosen.prototype.set_up_html=function(){var container_classes,container_div,container_props,dd_top,dd_width,sf_width;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";container_classes=["chzn-container"];container_classes.push("chzn-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){container_classes.push(this.form_field.className)}if(this.is_rtl){container_classes.push("chzn-rtl")}this.f_width=this.form_field_jq.outerWidth();container_props={id:this.container_id,"class":container_classes.join(" "),style:"width: "+this.f_width+"px;",title:this.form_field.title};container_div=$("<div />",container_props);if(this.is_multiple){container_div.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>')}else{container_div.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(container_div);this.container=$("#"+this.container_id);this.dropdown=this.container.find("div.chzn-drop").first();dd_top=this.container.height();dd_width=this.f_width-get_side_border_padding(this.dropdown);this.dropdown.css({width:dd_width+"px",top:dd_top+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();sf_width=dd_width-get_side_border_padding(this.search_container)-get_side_border_padding(this.search_field);this.search_field.css({width:sf_width+"px"})}this.results_build();this.set_tab_index();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};Chosen.prototype.register_observers=function(){var _this=this;this.container.mousedown(function(evt){return _this.container_mousedown(evt)});this.container.mouseup(function(evt){return _this.container_mouseup(evt)});this.container.mouseenter(function(evt){return _this.mouse_enter(evt)});this.container.mouseleave(function(evt){return _this.mouse_leave(evt)});this.search_results.mouseup(function(evt){return _this.search_results_mouseup(evt)});this.search_results.mouseover(function(evt){return _this.search_results_mouseover(evt)});this.search_results.mouseout(function(evt){return _this.search_results_mouseout(evt)});this.form_field_jq.bind("liszt:updated",function(evt){return _this.results_update_field(evt)});this.form_field_jq.bind("liszt:activate",function(evt){return _this.activate_field(evt)});this.form_field_jq.bind("liszt:open",function(evt){return _this.container_mousedown(evt)});this.search_field.blur(function(evt){return _this.input_blur(evt)});this.search_field.keyup(function(evt){return _this.keyup_checker(evt)});this.search_field.keydown(function(evt){return _this.keydown_checker(evt)});this.search_field.focus(function(evt){return _this.input_focus(evt)});if(this.is_multiple){return this.search_choices.click(function(evt){return _this.choices_click(evt)})}else{return this.container.click(function(evt){return evt.preventDefault()})}};Chosen.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};Chosen.prototype.container_mousedown=function(evt){var target_closelink;if(!this.is_disabled){target_closelink=evt!=null?$(evt.target).hasClass("search-choice-close"):false;if((evt!=null?evt.type:void 0)==="mousedown"&&!this.results_showing){evt.preventDefault()}if(!this.pending_destroy_click&&!target_closelink){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}$(document).click(this.click_test_action);this.results_show()}else if(!this.is_multiple&&evt&&($(evt.target)[0]===this.selected_item[0]||$(evt.target).parents("a.chzn-single").length)){evt.preventDefault();this.results_toggle()}return this.activate_field()}else{return this.pending_destroy_click=false}}};Chosen.prototype.container_mouseup=function(evt){if(evt.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(evt)}};Chosen.prototype.blur_test=function(evt){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};Chosen.prototype.close_field=function(){$(document).unbind("click",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};Chosen.prototype.activate_field=function(){this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};Chosen.prototype.test_active_click=function(evt){if($(evt.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};Chosen.prototype.results_build=function(){var content,data,_i,_len,_ref1;this.parsing=true;this.results_data=SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices>0){this.search_choices.find("li.search-choice").remove();this.choices=0}else if(!this.is_multiple){this.selected_item.addClass("chzn-default").find("span").text(this.default_text);if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.container.addClass("chzn-container-single-nosearch")}else{this.container.removeClass("chzn-container-single-nosearch")}}content="";_ref1=this.results_data;for(_i=0,_len=_ref1.length;_i<_len;_i++){data=_ref1[_i];if(data.group){content+=this.result_add_group(data)}else if(!data.empty){content+=this.result_add_option(data);if(data.selected&&this.is_multiple){this.choice_build(data)}else if(data.selected&&!this.is_multiple){this.selected_item.removeClass("chzn-default").find("span").text(data.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(content);return this.parsing=false};Chosen.prototype.result_add_group=function(group){if(!group.disabled){group.dom_id=this.container_id+"_g_"+group.array_index;return'<li id="'+group.dom_id+'" class="group-result">'+$("<div />").text(group.label).html()+"</li>"}else{return""}};Chosen.prototype.result_do_highlight=function(el){var high_bottom,high_top,maxHeight,visible_bottom,visible_top;if(el.length){this.result_clear_highlight();this.result_highlight=el;this.result_highlight.addClass("highlighted");maxHeight=parseInt(this.search_results.css("maxHeight"),10);visible_top=this.search_results.scrollTop();visible_bottom=maxHeight+visible_top;high_top=this.result_highlight.position().top+this.search_results.scrollTop();high_bottom=high_top+this.result_highlight.outerHeight();if(high_bottom>=visible_bottom){return this.search_results.scrollTop(high_bottom-maxHeight>0?high_bottom-maxHeight:0)}else if(high_top<visible_top){return this.search_results.scrollTop(high_top)}}};Chosen.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};Chosen.prototype.results_show=function(){var dd_top;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop");if(this.result_single_selected){this.result_do_highlight(this.result_single_selected)}}else if(this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});false}dd_top=this.is_multiple?this.container.height():this.container.height()-1;this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.dropdown.css({top:dd_top+"px",left:0});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};Chosen.prototype.results_hide=function(){if(!this.is_multiple){this.selected_item.removeClass("chzn-single-with-drop")}this.result_clear_highlight();this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});this.dropdown.css({left:"-9000px"});return this.results_showing=false};Chosen.prototype.set_tab_index=function(el){var ti;if(this.form_field_jq.attr("tabindex")){ti=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);return this.search_field.attr("tabindex",ti)}};Chosen.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};Chosen.prototype.search_results_mouseup=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target.length){this.result_highlight=target;this.result_select(evt);return this.search_field.focus()}};Chosen.prototype.search_results_mouseover=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target){return this.result_do_highlight(target)}};Chosen.prototype.search_results_mouseout=function(evt){if($(evt.target).hasClass("active-result"||$(evt.target).parents(".active-result").first())){return this.result_clear_highlight()}};Chosen.prototype.choices_click=function(evt){evt.preventDefault();if(this.active_field&&!$(evt.target).hasClass("search-choice"||$(evt.target).parents(".search-choice").first)&&!this.results_showing){return this.results_show()}};Chosen.prototype.choice_build=function(item){var choice_id,html,link,_this=this;if(this.is_multiple&&this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});false}choice_id=this.container_id+"_c_"+item.array_index;this.choices+=1;if(item.disabled){html='<li class="search-choice search-choice-disabled" id="'+choice_id+'"><span>'+item.html+"</span></li>"}else{html='<li class="search-choice" id="'+choice_id+'"><span>'+item.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+item.array_index+'"></a></li>'}this.search_container.before(html);link=$("#"+choice_id).find("a").first();return link.click(function(evt){return _this.choice_destroy_link_click(evt)})};Chosen.prototype.choice_destroy_link_click=function(evt){evt.preventDefault();if(!this.is_disabled){this.pending_destroy_click=true;return this.choice_destroy($(evt.target))}else{return evt.stopPropagation}};Chosen.prototype.choice_destroy=function(link){if(this.result_deselect(link.attr("rel"))){this.choices-=1;this.show_search_field_default();if(this.is_multiple&&this.choices>0&&this.search_field.val().length<1){this.results_hide()}link.parents("li").first().remove();return this.search_field_scale()}};Chosen.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_item.find("span").text(this.default_text);if(!this.is_multiple){this.selected_item.addClass("chzn-default")}this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};Chosen.prototype.results_reset_cleanup=function(){this.current_value=this.form_field_jq.val();return this.selected_item.find("abbr").remove()};Chosen.prototype.result_select=function(evt){var high,high_id,item,position;if(this.result_highlight){high=this.result_highlight;high_id=high.attr("id");this.result_clear_highlight();if(this.is_multiple){this.result_deactivate(high)}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=high;this.selected_item.removeClass("chzn-default")}high.addClass("result-selected");position=high_id.substr(high_id.lastIndexOf("_")+1);item=this.results_data[position];item.selected=true;this.form_field.options[item.options_index].selected=true;if(this.is_multiple){this.choice_build(item)}else{this.selected_item.find("span").first().text(item.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}if(!((evt.metaKey||evt.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field_jq.val()!==this.current_value){this.form_field_jq.trigger("change",{selected:this.form_field.options[item.options_index].value})}this.current_value=this.form_field_jq.val();return this.search_field_scale()}};Chosen.prototype.result_activate=function(el){return el.addClass("active-result")};Chosen.prototype.result_deactivate=function(el){return el.removeClass("active-result")};Chosen.prototype.result_deselect=function(pos){var result,result_data;result_data=this.results_data[pos];if(!this.form_field.options[result_data.options_index].disabled){result_data.selected=false;this.form_field.options[result_data.options_index].selected=false;result=$("#"+this.container_id+"_o_"+pos);result.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[result_data.options_index].value});this.search_field_scale();return true}else{return false}};Chosen.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}};Chosen.prototype.winnow_results=function(){var found,option,part,parts,regex,regexAnchor,result,result_id,results,searchText,startpos,text,zregex,_i,_j,_len,_len1,_ref1;this.no_results_clear();results=0;searchText=this.search_field.val()===this.default_text?"":$("<div/>").text($.trim(this.search_field.val())).html();regexAnchor=this.search_contains?"":"^";regex=new RegExp(regexAnchor+searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");zregex=new RegExp(searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");_ref1=this.results_data;for(_i=0,_len=_ref1.length;_i<_len;_i++){option=_ref1[_i];if(!option.disabled&&!option.empty){if(option.group){$("#"+option.dom_id).css("display","none")}else if(!(this.is_multiple&&option.selected)){found=false;result_id=option.dom_id;result=$("#"+result_id);if(regex.test(option.html)){found=true;results+=1}else if(this.enable_split_word_search&&(option.html.indexOf(" ")>=0||option.html.indexOf("[")===0)){parts=option.html.replace(/\[|\]/g,"").split(" ");if(parts.length){for(_j=0,_len1=parts.length;_j<_len1;_j++){part=parts[_j];if(!regex.test(part)){continue}found=true;results+=1}}}if(found){if(searchText.length){startpos=option.html.search(zregex);text=option.html.substr(0,startpos+searchText.length)+"</em>"+option.html.substr(startpos+searchText.length);text=text.substr(0,startpos)+"<em>"+text.substr(startpos)}else{text=option.html}result.html(text);this.result_activate(result);if(option.group_array_index!=null){$("#"+this.results_data[option.group_array_index].dom_id).css("display","list-item")}}else{if(this.result_highlight&&result_id===this.result_highlight.attr("id")){this.result_clear_highlight()}this.result_deactivate(result)}}}}if(results<1&&searchText.length){return this.no_results(searchText)}else{return this.winnow_results_set_highlight()}};Chosen.prototype.winnow_results_clear=function(){var li,lis,_i,_len,_results;this.search_field.val("");lis=this.search_results.find("li");_results=[];for(_i=0,_len=lis.length;_i<_len;_i++){li=lis[_i];li=$(li);if(li.hasClass("group-result")){_results.push(li.css("display","auto"))}else if(!this.is_multiple||!li.hasClass("result-selected")){_results.push(this.result_activate(li))}else{_results.push(void 0)}}return _results};Chosen.prototype.winnow_results_set_highlight=function(){var do_high,selected_results;if(!this.result_highlight){selected_results=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];do_high=selected_results.length?selected_results.first():this.search_results.find(".active-result").first();if(do_high!=null){return this.result_do_highlight(do_high)}}};Chosen.prototype.no_results=function(terms){var no_results_html;no_results_html=$('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');no_results_html.find("span").first().html(terms);return this.search_results.append(no_results_html)};Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};Chosen.prototype.keydown_arrow=function(){var first_active,next_sib;if(!this.result_highlight){first_active=this.search_results.find("li.active-result").first();if(first_active){this.result_do_highlight($(first_active))}}else if(this.results_showing){next_sib=this.result_highlight.nextAll("li.active-result").first();if(next_sib){this.result_do_highlight(next_sib)}}if(!this.results_showing){return this.results_show()}};Chosen.prototype.keyup_arrow=function(){var prev_sibs;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else if(this.result_highlight){prev_sibs=this.result_highlight.prevAll("li.active-result");if(prev_sibs.length){return this.result_do_highlight(prev_sibs.first())}else{if(this.choices>0){this.results_hide()}return this.result_clear_highlight()}}};Chosen.prototype.keydown_backstroke=function(){var next_available_destroy;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{next_available_destroy=this.search_container.siblings("li.search-choice").last();if(next_available_destroy.length&&!next_available_destroy.hasClass("search-choice-disabled")){this.pending_backstroke=next_available_destroy;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};Chosen.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};Chosen.prototype.keydown_checker=function(evt){var stroke,_ref1;stroke=(_ref1=evt.which)!=null?_ref1:evt.keyCode;this.search_field_scale();if(stroke!==8&&this.pending_backstroke){this.clear_backstroke()}switch(stroke){case 8:return this.backstroke_length=this.search_field.val().length;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(evt)}return this.mouse_on_container=false;case 13:return evt.preventDefault();case 38:evt.preventDefault();return this.keyup_arrow();case 40:return this.keydown_arrow()}};Chosen.prototype.search_field_scale=function(){var dd_top,div,h,style,style_block,styles,w,_i,_len;if(this.is_multiple){h=0;w=0;style_block="position:absolute; left: -1000px; top: -1000px; display:none;";styles=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(_i=0,_len=styles.length;_i<_len;_i++){style=styles[_i];style_block+=style+":"+this.search_field.css(style)+";"}div=$("<div />",{style:style_block});div.text(this.search_field.val());$("body").append(div);w=div.width()+25;div.remove();if(w>this.f_width-10){w=this.f_width-10}this.search_field.css({width:w+"px"});dd_top=this.container.height();return this.dropdown.css({top:dd_top+"px"})}};Chosen.prototype.generate_random_id=function(){var string;string="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while($("#"+string).length>0){string+=this.generate_random_char()}return string};return Chosen}(AbstractChosen);exports.Chosen=Chosen;SelectParser=function(){function SelectParser(){this.options_index=0;this.parsed=[]}SelectParser.prototype.add_node=function(child){if(child.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(child)}else{return this.add_option(child)}};SelectParser.prototype.add_group=function(group){var group_position,option,_i,_len,_ref1,_results;group_position=this.parsed.length;this.parsed.push({array_index:group_position,group:true,label:group.label,children:0,disabled:group.disabled});_ref1=group.childNodes;_results=[];for(_i=0,_len=_ref1.length;_i<_len;_i++){option=_ref1[_i];_results.push(this.add_option(option,group_position,group.disabled))}return _results};SelectParser.prototype.add_option=function(option,group_position,group_disabled){if(option.nodeName.toUpperCase()==="OPTION"){if(option.text!==""){if(group_position!=null){this.parsed[group_position].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:option.value,text:option.text,html:option.innerHTML,selected:option.selected,disabled:group_disabled===true?group_disabled:option.disabled,group_array_index:group_position,classes:option.className,style:option.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return SelectParser}();SelectParser.select_to_array=function(select){var child,parser,_i,_len,_ref1;parser=new SelectParser;_ref1=select.childNodes;for(_i=0,_len=_ref1.length;_i<_len;_i++){child=_ref1[_i];parser.add_node(child)}return parser.parsed}}).call(this)},{}],2:[function(require,module,exports){(function(){var MarkedYAMLError,events,nodes,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};events=require("./events");MarkedYAMLError=require("./errors").MarkedYAMLError;nodes=require("./nodes");this.ComposerError=function(_super){__extends(ComposerError,_super);function ComposerError(){_ref=ComposerError.__super__.constructor.apply(this,arguments);return _ref}return ComposerError}(MarkedYAMLError);this.Composer=function(){function Composer(){this.anchors={}}Composer.prototype.check_node=function(){if(this.check_event(events.StreamStartEvent)){this.get_event()}return!this.check_event(events.StreamEndEvent)};Composer.prototype.get_node=function(){if(!this.check_event(events.StreamEndEvent)){return this.compose_document()}};Composer.prototype.get_single_node=function(){var document,event;this.get_event();document=null;if(!this.check_event(events.StreamEndEvent)){document=this.compose_document()}if(!this.check_event(events.StreamEndEvent)){event=this.get_event();throw new exports.ComposerError("expected a single document in the stream",document.start_mark,"but found another document",event.start_mark)}this.get_event();return document};Composer.prototype.compose_document=function(){var node;this.get_event();node=this.compose_node();this.get_event();this.anchors={};return node};Composer.prototype.compose_node=function(parent,index){var anchor,event,node;if(this.check_event(events.AliasEvent)){event=this.get_event();anchor=event.anchor;if(!(anchor in this.anchors)){throw new exports.ComposerError(null,null,"found undefined alias "+anchor,event.start_mark)}return this.anchors[anchor]}event=this.peek_event();anchor=event.anchor;if(anchor!==null&&anchor in this.anchors){throw new exports.ComposerError("found duplicate anchor "+anchor+"; first occurence",this.anchors[anchor].start_mark,"second occurrence",event.start_mark)}this.descend_resolver(parent,index);if(this.check_event(events.ScalarEvent)){node=this.compose_scalar_node(anchor)}else if(this.check_event(events.SequenceStartEvent)){node=this.compose_sequence_node(anchor)}else if(this.check_event(events.MappingStartEvent)){node=this.compose_mapping_node(anchor)}this.ascend_resolver();return node};Composer.prototype.compose_scalar_node=function(anchor){var event,node,tag;event=this.get_event();tag=event.tag;if(tag===null||tag==="!"){tag=this.resolve(nodes.ScalarNode,event.value,event.implicit)}node=new nodes.ScalarNode(tag,event.value,event.start_mark,event.end_mark,event.style);if(anchor!==null){this.anchors[anchor]=node}return node};Composer.prototype.compose_sequence_node=function(anchor){var end_event,index,node,start_event,tag;start_event=this.get_event();tag=start_event.tag;if(tag===null||tag==="!"){tag=this.resolve(nodes.SequenceNode,null,start_event.implicit)}node=new nodes.SequenceNode(tag,[],start_event.start_mark,null,start_event.flow_style);if(anchor!==null){this.anchors[anchor]=node}index=0;while(!this.check_event(events.SequenceEndEvent)){node.value.push(this.compose_node(node,index));index++}end_event=this.get_event();node.end_mark=end_event.end_mark;return node};Composer.prototype.compose_mapping_node=function(anchor){var end_event,item_key,item_value,node,start_event,tag;start_event=this.get_event();tag=start_event.tag;if(tag===null||tag==="!"){tag=this.resolve(nodes.MappingNode,null,start_event.implicit)
}node=new nodes.MappingNode(tag,[],start_event.start_mark,null,start_event.flow_style);if(anchor!==null){this.anchors[anchor]=node}while(!this.check_event(events.MappingEndEvent)){item_key=this.compose_node(node);item_value=this.compose_node(node,item_key);node.value.push([item_key,item_value])}end_event=this.get_event();node.end_mark=end_event.end_mark;return node};return Composer}()}).call(this)},{"./errors":4,"./events":5,"./nodes":7}],3:[function(require,module,exports){var Buffer=require("__browserify_Buffer");(function(){var MarkedYAMLError,nodes,util,_ref,_ref1,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};MarkedYAMLError=require("./errors").MarkedYAMLError;nodes=require("./nodes");util=require("./util");this.ConstructorError=function(_super){__extends(ConstructorError,_super);function ConstructorError(){_ref=ConstructorError.__super__.constructor.apply(this,arguments);return _ref}return ConstructorError}(MarkedYAMLError);this.BaseConstructor=function(){BaseConstructor.prototype.yaml_constructors={};BaseConstructor.prototype.yaml_multi_constructors={};BaseConstructor.add_constructor=function(tag,constructor){if(!this.prototype.hasOwnProperty("yaml_constructors")){this.prototype.yaml_constructors=util.extend({},this.prototype.yaml_constructors)}return this.prototype.yaml_constructors[tag]=constructor};BaseConstructor.add_multi_constructor=function(tag_prefix,multi_constructor){if(!this.prototype.hasOwnProperty("yaml_multi_constructors")){this.prototype.yaml_multi_constructors=util.extend({},this.prototype.yaml_multi_constructors)}return this.prototype.yaml_multi_constructors[tag_prefix]=multi_constructor};function BaseConstructor(){this.constructed_objects={};this.constructing_nodes=[];this.deferred_constructors=[]}BaseConstructor.prototype.check_data=function(){return this.check_node()};BaseConstructor.prototype.get_data=function(){if(this.check_node()){return this.construct_document(this.get_node())}};BaseConstructor.prototype.get_single_data=function(){var node;node=this.get_single_node();if(node!=null){return this.construct_document(node)}return null};BaseConstructor.prototype.construct_document=function(node){var data;data=this.construct_object(node);while(!util.is_empty(this.deferred_constructors)){this.deferred_constructors.pop()()}return data};BaseConstructor.prototype.defer=function(f){return this.deferred_constructors.push(f)};BaseConstructor.prototype.construct_object=function(node){var constructor,object,tag_prefix,tag_suffix,_ref1;if(node.unique_id in this.constructed_objects){return this.constructed_objects[node.unique_id]}if(_ref1=node.unique_id,__indexOf.call(this.constructing_nodes,_ref1)>=0){throw new exports.ConstructorError(null,null,"found unconstructable recursive node",node.start_mark)}this.constructing_nodes.push(node.unique_id);constructor=null;tag_suffix=null;if(node.tag in this.yaml_constructors){constructor=this.yaml_constructors[node.tag]}else{for(tag_prefix in this.yaml_multi_constructors){if(node.tag.indexOf(tag_prefix===0)){tag_suffix=node.tag.slice(tag_prefix.length);constructor=this.yaml_multi_constructors[tag_prefix];break}}if(constructor==null){if(null in this.yaml_multi_constructors){tag_suffix=node.tag;constructor=this.yaml_multi_constructors[null]}else if(null in this.yaml_constructors){constructor=this.yaml_constructors[null]}else if(node instanceof nodes.ScalarNode){constructor=this.construct_scalar}else if(node instanceof nodes.SequenceNode){constructor=this.construct_sequence}else if(node instanceof nodes.MappingNode){constructor=this.construct_mapping}}}object=constructor.call(this,tag_suffix!=null?tag_suffix:node,node);this.constructed_objects[node.unique_id]=object;this.constructing_nodes.pop();return object};BaseConstructor.prototype.construct_scalar=function(node){if(!(node instanceof nodes.ScalarNode)){throw new exports.ConstructorError(null,null,"expected a scalar node but found "+node.id,node.start_mark)}return node.value};BaseConstructor.prototype.construct_sequence=function(node){var child,_i,_len,_ref1,_results;if(!(node instanceof nodes.SequenceNode)){throw new exports.ConstructorError(null,null,"expected a sequence node but found "+node.id,node.start_mark)}_ref1=node.value;_results=[];for(_i=0,_len=_ref1.length;_i<_len;_i++){child=_ref1[_i];_results.push(this.construct_object(child))}return _results};BaseConstructor.prototype.construct_mapping=function(node){var key,key_node,mapping,value,value_node,_i,_len,_ref1,_ref2;if(!(node instanceof nodes.MappingNode)){throw new ConstructorError(null,null,"expected a mapping node but found "+node.id,node.start_mark)}mapping={};_ref1=node.value;for(_i=0,_len=_ref1.length;_i<_len;_i++){_ref2=_ref1[_i],key_node=_ref2[0],value_node=_ref2[1];key=this.construct_object(key_node);if(typeof key==="object"){throw new exports.ConstructorError("while constructing a mapping",node.start_mark,"found unhashable key",key_node.start_mark)}value=this.construct_object(value_node);mapping[key]=value}return mapping};BaseConstructor.prototype.construct_pairs=function(node){var key,key_node,pairs,value,value_node,_i,_len,_ref1,_ref2;if(!(node instanceof nodes.MappingNode)){throw new exports.ConstructorError(null,null,"expected a mapping node but found "+node.id,node.start_mark)}pairs=[];_ref1=node.value;for(_i=0,_len=_ref1.length;_i<_len;_i++){_ref2=_ref1[_i],key_node=_ref2[0],value_node=_ref2[1];key=this.construct_object(key_node);value=this.construct_object(value_node);pairs.push([key,value])}return pairs};return BaseConstructor}();this.Constructor=function(_super){var BOOL_VALUES,TIMESTAMP_PARTS,TIMESTAMP_REGEX;__extends(Constructor,_super);function Constructor(){_ref1=Constructor.__super__.constructor.apply(this,arguments);return _ref1}BOOL_VALUES={on:true,off:false,"true":true,"false":false,yes:true,no:false};TIMESTAMP_REGEX=/^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[\x20\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\.([0-9]*))?(?:[\x20\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$/;TIMESTAMP_PARTS={year:1,month:2,day:3,hour:4,minute:5,second:6,fraction:7,tz:8,tz_sign:9,tz_hour:10,tz_minute:11};Constructor.prototype.yaml_constructors={};Constructor.prototype.yaml_multi_constructors={};Constructor.prototype.construct_scalar=function(node){var key_node,value_node,_i,_len,_ref2,_ref3;if(node instanceof nodes.MappingNode){_ref2=node.value;for(_i=0,_len=_ref2.length;_i<_len;_i++){_ref3=_ref2[_i],key_node=_ref3[0],value_node=_ref3[1];if(key_node.tag==="tag:yaml.org,2002:value"){return this.construct_scalar(value_node)}}}return Constructor.__super__.construct_scalar.call(this,node)};Constructor.prototype.flatten_mapping=function(node){var index,key_node,merge,submerge,subnode,value,value_node,_i,_j,_len,_len1,_ref2,_ref3;merge=[];index=0;while(index<node.value.length){_ref2=node.value[index],key_node=_ref2[0],value_node=_ref2[1];if(key_node.tag==="tag:yaml.org,2002:merge"){node.value.splice(index,1);if(value_node instanceof nodes.MappingNode){this.flatten_mapping(value_node);merge=merge.concat(value_node.value)}else if(value_node instanceof nodes.SequenceNode){submerge=[];_ref3=value_node.value;for(_i=0,_len=_ref3.length;_i<_len;_i++){subnode=_ref3[_i];if(!(subnode instanceof nodes.MappingNode)){throw new exports.ConstructorError("while constructing a mapping",node.start_mark,"expected a mapping for merging, but found "+subnode.id,subnode.start_mark)}this.flatten_mapping(subnode);submerge.push(subnode.value)}submerge.reverse();for(_j=0,_len1=submerge.length;_j<_len1;_j++){value=submerge[_j];merge=merge.concat(value)}}else{throw new exports.ConstructorError("while constructing a mapping",node.start_mark,"expected a mapping or list of mappings for            merging but found "+value_node.id,value_node.start_mark)}}else if(key_node.tag==="tag:yaml.org,2002:value"){key_node.tag="tag:yaml.org,2002:str";index++}else{index++}}if(merge.length){return node.value=merge.concat(node.value)}};Constructor.prototype.construct_mapping=function(node){if(node instanceof nodes.MappingNode){this.flatten_mapping(node)}return Constructor.__super__.construct_mapping.call(this,node)};Constructor.prototype.construct_yaml_null=function(node){this.construct_scalar(node);return null};Constructor.prototype.construct_yaml_bool=function(node){var value;value=this.construct_scalar(node);return BOOL_VALUES[value.toLowerCase()]};Constructor.prototype.construct_yaml_int=function(node){var base,digit,digits,part,sign,value,_i,_len,_ref2;value=this.construct_scalar(node);value=value.replace(/_/g,"");sign=value[0]==="-"?-1:1;if(_ref2=value[0],__indexOf.call("+-",_ref2)>=0){value=value.slice(1)}if(value==="0"){return 0}else if(value.indexOf("0b")===0){return sign*parseInt(value.slice(2),2)}else if(value.indexOf("0x")===0){return sign*parseInt(value.slice(2),16)}else if(value.indexOf("0o")===0){return sign*parseInt(value.slice(2),8)}else if(value[0]==="0"){return sign*parseInt(value,8)}else if(__indexOf.call(value,":")>=0){digits=function(){var _i,_len,_ref3,_results;_ref3=value.split(/:/g);_results=[];for(_i=0,_len=_ref3.length;_i<_len;_i++){part=_ref3[_i];_results.push(parseInt(part))}return _results}();digits.reverse();base=1;value=0;for(_i=0,_len=digits.length;_i<_len;_i++){digit=digits[_i];value+=digit*base;base*=60}return sign*value}else{return sign*parseInt(value)}};Constructor.prototype.construct_yaml_float=function(node){var base,digit,digits,part,sign,value,_i,_len,_ref2;value=this.construct_scalar(node);value=value.replace(/_/g,"").toLowerCase();sign=value[0]==="-"?-1:1;if(_ref2=value[0],__indexOf.call("+-",_ref2)>=0){value=value.slice(1)}if(value===".inf"){return sign*Infinity}else if(value===".nan"){return NaN}else if(__indexOf.call(value,":")>=0){digits=function(){var _i,_len,_ref3,_results;_ref3=value.split(/:/g);_results=[];for(_i=0,_len=_ref3.length;_i<_len;_i++){part=_ref3[_i];_results.push(parseFloat(part))}return _results}();digits.reverse();base=1;value=0;for(_i=0,_len=digits.length;_i<_len;_i++){digit=digits[_i];value+=digit*base;base*=60}return sign*value}else{return sign*parseFloat(value)}};Constructor.prototype.construct_yaml_binary=function(node){var error,value;value=this.construct_scalar(node);try{if(typeof window!=="undefined"&&window!==null){return atob(value)}return new Buffer(value,"base64").toString("ascii")}catch(_error){error=_error;throw new exports.ConstructorError(null,null,"failed to decode base64 data: "+error,node.start_mark)}};Constructor.prototype.construct_yaml_timestamp=function(node){var date,day,fraction,hour,index,key,match,millisecond,minute,month,second,tz_hour,tz_minute,tz_sign,value,values,year;value=this.construct_scalar(node);match=node.value.match(TIMESTAMP_REGEX);values={};for(key in TIMESTAMP_PARTS){index=TIMESTAMP_PARTS[key];values[key]=match[index]}year=parseInt(values.year);month=parseInt(values.month)-1;day=parseInt(values.day);if(!values.hour){return new Date(Date.UTC(year,month,day))}hour=parseInt(values.hour);minute=parseInt(values.minute);second=parseInt(values.second);millisecond=0;if(values.fraction){fraction=values.fraction.slice(0,6);while(fraction.length<6){fraction+="0"}fraction=parseInt(fraction);millisecond=Math.round(fraction/1e3)}if(values.tz_sign){tz_sign=values.tz_sign==="-"?1:-1;if(tz_hour=parseInt(values.tz_hour)){hour+=tz_sign*tz_hour}if(tz_minute=parseInt(values.tz_minute)){minute+=tz_sign*tz_minute}}date=new Date(Date.UTC(year,month,day,hour,minute,second,millisecond));return date};Constructor.prototype.construct_yaml_pair_list=function(type,node){var list,_this=this;list=[];if(!(node instanceof nodes.SequenceNode)){throw new exports.ConstructorError("while constructing "+type,node.start_mark,"expected a sequence but found "+node.id,node.start_mark)}this.defer(function(){var key,key_node,subnode,value,value_node,_i,_len,_ref2,_ref3,_results;_ref2=node.value;_results=[];for(_i=0,_len=_ref2.length;_i<_len;_i++){subnode=_ref2[_i];if(!(subnode instanceof nodes.MappingNode)){throw new exports.ConstructorError("while constructing "+type,node.start_mark,"expected a mapping of length 1 but found "+subnode.id,subnode.start_mark)}if(subnode.value.length!==1){throw new exports.ConstructorError("while constructing "+type,node.start_mark,"expected a mapping of length 1 but found "+subnode.id,subnode.start_mark)}_ref3=subnode.value[0],key_node=_ref3[0],value_node=_ref3[1];key=_this.construct_object(key_node);value=_this.construct_object(value_node);_results.push(list.push([key,value]))}return _results});return list};Constructor.prototype.construct_yaml_omap=function(node){return this.construct_yaml_pair_list("an ordered map",node)};Constructor.prototype.construct_yaml_pairs=function(node){return this.construct_yaml_pair_list("pairs",node)};Constructor.prototype.construct_yaml_set=function(node){var data,_this=this;data=[];this.defer(function(){var item,_results;_results=[];for(item in _this.construct_mapping(node)){_results.push(data.push(item))}return _results});return data};Constructor.prototype.construct_yaml_str=function(node){return this.construct_scalar(node)};Constructor.prototype.construct_yaml_seq=function(node){var data,_this=this;data=[];this.defer(function(){var item,_i,_len,_ref2,_results;_ref2=_this.construct_sequence(node);_results=[];for(_i=0,_len=_ref2.length;_i<_len;_i++){item=_ref2[_i];_results.push(data.push(item))}return _results});return data};Constructor.prototype.construct_yaml_map=function(node){var data,_this=this;data={};this.defer(function(){var key,value,_ref2,_results;_ref2=_this.construct_mapping(node);_results=[];for(key in _ref2){value=_ref2[key];_results.push(data[key]=value)}return _results});return data};Constructor.prototype.construct_yaml_object=function(node,klass){var data,_this=this;data=new klass;this.defer(function(){var key,value,_ref2,_results;_ref2=_this.construct_mapping(node,true);_results=[];for(key in _ref2){value=_ref2[key];_results.push(data[key]=value)}return _results});return data};Constructor.prototype.construct_undefined=function(node){throw new exports.ConstructorError(null,null,"could not determine a constructor for the tag "+node.tag,node.start_mark)};return Constructor}(this.BaseConstructor);this.Constructor.add_constructor("tag:yaml.org,2002:null",this.Constructor.prototype.construct_yaml_null);this.Constructor.add_constructor("tag:yaml.org,2002:bool",this.Constructor.prototype.construct_yaml_bool);this.Constructor.add_constructor("tag:yaml.org,2002:int",this.Constructor.prototype.construct_yaml_int);this.Constructor.add_constructor("tag:yaml.org,2002:float",this.Constructor.prototype.construct_yaml_float);this.Constructor.add_constructor("tag:yaml.org,2002:binary",this.Constructor.prototype.construct_yaml_binary);this.Constructor.add_constructor("tag:yaml.org,2002:timestamp",this.Constructor.prototype.construct_yaml_timestamp);this.Constructor.add_constructor("tag:yaml.org,2002:omap",this.Constructor.prototype.construct_yaml_omap);this.Constructor.add_constructor("tag:yaml.org,2002:pairs",this.Constructor.prototype.construct_yaml_pairs);this.Constructor.add_constructor("tag:yaml.org,2002:set",this.Constructor.prototype.construct_yaml_set);this.Constructor.add_constructor("tag:yaml.org,2002:str",this.Constructor.prototype.construct_yaml_str);this.Constructor.add_constructor("tag:yaml.org,2002:seq",this.Constructor.prototype.construct_yaml_seq);this.Constructor.add_constructor("tag:yaml.org,2002:map",this.Constructor.prototype.construct_yaml_map);this.Constructor.add_constructor(null,this.Constructor.prototype.construct_undefined)}).call(this)},{"./errors":4,"./nodes":7,"./util":13,__browserify_Buffer:19}],4:[function(require,module,exports){(function(){var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};this.Mark=function(){function Mark(name,line,column,buffer,pointer){this.name=name;this.line=line;this.column=column;this.buffer=buffer;this.pointer=pointer}Mark.prototype.get_snippet=function(indent,max_length){var break_chars,end,head,start,tail,_ref,_ref1;if(indent==null){indent=4}if(max_length==null){max_length=75}if(this.buffer==null){return null}break_chars="\x00\r\n\u2028\u2029";head="";start=this.pointer;while(start>0&&(_ref=this.buffer[start-1],__indexOf.call(break_chars,_ref)<0)){start--;if(this.pointer-start>max_length/2-1){head=" ... ";start+=5;break}}tail="";end=this.pointer;while(end<this.buffer.length&&(_ref1=this.buffer[end],__indexOf.call(break_chars,_ref1)<0)){end++;if(end-this.pointer>max_length/2-1){tail=" ... ";end-=5;break}}return""+new Array(indent).join(" ")+head+this.buffer.slice(start,end)+tail+"\n"+new Array(indent+this.pointer-start+head.length).join(" ")+"^"};Mark.prototype.toString=function(){var snippet,where;snippet=this.get_snippet();where='  in "'+this.name+'", line '+(this.line+1)+", column "+(this.column+1);if(snippet){return where}else{return""+where+":\n"+snippet}};return Mark}();this.YAMLError=function(_super){__extends(YAMLError,_super);function YAMLError(){YAMLError.__super__.constructor.call(this);this.stack=this.toString()+"\n"+(new Error).stack.split("\n").slice(1).join("\n")}return YAMLError}(Error);this.MarkedYAMLError=function(_super){__extends(MarkedYAMLError,_super);function MarkedYAMLError(context,context_mark,problem,problem_mark,note){this.context=context;this.context_mark=context_mark;this.problem=problem;this.problem_mark=problem_mark;this.note=note;MarkedYAMLError.__super__.constructor.call(this)}MarkedYAMLError.prototype.toString=function(){var lines;lines=[];if(this.context!=null){lines.push(this.context)}if(this.context_mark!=null&&(this.problem==null||this.problem_mark==null||this.context_mark.name!==this.problem_mark.name||this.context_mark.line!==this.problem_mark.line||this.context_mark.column!==this.problem_mark.column)){lines.push(this.context_mark.toString())}if(this.problem!=null){lines.push(this.problem)}if(this.problem_mark!=null){lines.push(this.problem_mark.toString())}if(this.note!=null){lines.push(this.note)}return lines.join("\n")};return MarkedYAMLError}(this.YAMLError)}).call(this)},{}],5:[function(require,module,exports){(function(){var _ref,_ref1,_ref2,_ref3,_ref4,_ref5,_ref6,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};this.Event=function(){function Event(start_mark,end_mark){this.start_mark=start_mark;this.end_mark=end_mark}return Event}();this.NodeEvent=function(_super){__extends(NodeEvent,_super);function NodeEvent(anchor,start_mark,end_mark){this.anchor=anchor;this.start_mark=start_mark;this.end_mark=end_mark}return NodeEvent}(this.Event);this.CollectionStartEvent=function(_super){__extends(CollectionStartEvent,_super);function CollectionStartEvent(anchor,tag,implicit,start_mark,end_mark){this.anchor=anchor;this.tag=tag;this.implicit=implicit;this.start_mark=start_mark;this.end_mark=end_mark}return CollectionStartEvent}(this.NodeEvent);this.CollectionEndEvent=function(_super){__extends(CollectionEndEvent,_super);function CollectionEndEvent(){_ref=CollectionEndEvent.__super__.constructor.apply(this,arguments);return _ref}return CollectionEndEvent}(this.Event);this.StreamStartEvent=function(_super){__extends(StreamStartEvent,_super);function StreamStartEvent(start_mark,end_mark,explicit,version,tags){this.start_mark=start_mark;this.end_mark=end_mark;this.explicit=explicit;this.version=version;this.tags=tags}return StreamStartEvent}(this.Event);this.StreamEndEvent=function(_super){__extends(StreamEndEvent,_super);function StreamEndEvent(){_ref1=StreamEndEvent.__super__.constructor.apply(this,arguments);return _ref1}return StreamEndEvent}(this.Event);this.DocumentStartEvent=function(_super){__extends(DocumentStartEvent,_super);function DocumentStartEvent(start_mark,end_mark,explicit,version,tags){this.start_mark=start_mark;this.end_mark=end_mark;this.explicit=explicit;this.version=version;this.tags=tags}return DocumentStartEvent}(this.Event);this.DocumentEndEvent=function(_super){__extends(DocumentEndEvent,_super);function DocumentEndEvent(start_mark,end_mark,explicit){this.start_mark=start_mark;this.end_mark=end_mark;this.explicit=explicit}return DocumentEndEvent}(this.Event);this.AliasEvent=function(_super){__extends(AliasEvent,_super);function AliasEvent(){_ref2=AliasEvent.__super__.constructor.apply(this,arguments);return _ref2}return AliasEvent}(this.NodeEvent);this.ScalarEvent=function(_super){__extends(ScalarEvent,_super);function ScalarEvent(anchor,tag,implicit,value,start_mark,end_mark,style){this.anchor=anchor;this.tag=tag;this.implicit=implicit;this.value=value;this.start_mark=start_mark;this.end_mark=end_mark;this.style=style}return ScalarEvent}(this.NodeEvent);this.SequenceStartEvent=function(_super){__extends(SequenceStartEvent,_super);function SequenceStartEvent(){_ref3=SequenceStartEvent.__super__.constructor.apply(this,arguments);return _ref3}return SequenceStartEvent}(this.CollectionStartEvent);this.SequenceEndEvent=function(_super){__extends(SequenceEndEvent,_super);function SequenceEndEvent(){_ref4=SequenceEndEvent.__super__.constructor.apply(this,arguments);return _ref4}return SequenceEndEvent}(this.CollectionEndEvent);this.MappingStartEvent=function(_super){__extends(MappingStartEvent,_super);function MappingStartEvent(){_ref5=MappingStartEvent.__super__.constructor.apply(this,arguments);return _ref5}return MappingStartEvent}(this.CollectionStartEvent);this.MappingEndEvent=function(_super){__extends(MappingEndEvent,_super);function MappingEndEvent(){_ref6=MappingEndEvent.__super__.constructor.apply(this,arguments);return _ref6}return MappingEndEvent}(this.CollectionEndEvent)}).call(this)},{}],6:[function(require,module,exports){(function(){var composer,constructor,parser,reader,resolver,scanner,util;util=require("./util");reader=require("./reader");scanner=require("./scanner");parser=require("./parser");composer=require("./composer");resolver=require("./resolver");constructor=require("./constructor");this.make_loader=function(Reader,Scanner,Parser,Composer,Resolver,Constructor){if(Reader==null){Reader=reader.Reader}if(Scanner==null){Scanner=scanner.Scanner}if(Parser==null){Parser=parser.Parser}if(Composer==null){Composer=composer.Composer}if(Resolver==null){Resolver=resolver.Resolver}if(Constructor==null){Constructor=constructor.Constructor}return function(){var component,components;components=[Reader,Scanner,Parser,Composer,Resolver,Constructor];util.extend.apply(util,[_Class.prototype].concat(function(){var _i,_len,_results;_results=[];for(_i=0,_len=components.length;_i<_len;_i++){component=components[_i];_results.push(component.prototype)}return _results}()));function _Class(stream){var _i,_len,_ref;components[0].call(this,stream);_ref=components.slice(1);for(_i=0,_len=_ref.length;_i<_len;_i++){component=_ref[_i];component.call(this)}}return _Class}()};this.Loader=this.make_loader()}).call(this)},{"./composer":2,"./constructor":3,"./parser":8,"./reader":9,"./resolver":10,"./scanner":11,"./util":13}],7:[function(require,module,exports){(function(){var unique_id,_ref,_ref1,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};unique_id=0;this.Node=function(){function Node(tag,value,start_mark,end_mark){this.tag=tag;this.value=value;this.start_mark=start_mark;this.end_mark=end_mark;this.unique_id="node_"+unique_id++}return Node}();this.ScalarNode=function(_super){__extends(ScalarNode,_super);ScalarNode.prototype.id="scalar";function ScalarNode(tag,value,start_mark,end_mark,style){this.tag=tag;this.value=value;this.start_mark=start_mark;this.end_mark=end_mark;this.style=style;ScalarNode.__super__.constructor.apply(this,arguments)}return ScalarNode}(this.Node);this.CollectionNode=function(_super){__extends(CollectionNode,_super);function CollectionNode(tag,value,start_mark,end_mark,flow_style){this.tag=tag;this.value=value;this.start_mark=start_mark;this.end_mark=end_mark;this.flow_style=flow_style;CollectionNode.__super__.constructor.apply(this,arguments)}return CollectionNode}(this.Node);this.SequenceNode=function(_super){__extends(SequenceNode,_super);function SequenceNode(){_ref=SequenceNode.__super__.constructor.apply(this,arguments);return _ref}SequenceNode.prototype.id="sequence";return SequenceNode}(this.CollectionNode);this.MappingNode=function(_super){__extends(MappingNode,_super);function MappingNode(){_ref1=MappingNode.__super__.constructor.apply(this,arguments);return _ref1}MappingNode.prototype.id="mapping";return MappingNode}(this.CollectionNode)}).call(this)},{}],8:[function(require,module,exports){(function(){var MarkedYAMLError,events,tokens,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},__slice=[].slice;events=require("./events");MarkedYAMLError=require("./errors").MarkedYAMLError;tokens=require("./tokens");this.ParserError=function(_super){__extends(ParserError,_super);function ParserError(){_ref=ParserError.__super__.constructor.apply(this,arguments);return _ref}return ParserError}(MarkedYAMLError);this.Parser=function(){var DEFAULT_TAGS;DEFAULT_TAGS={"!":"!","!!":"tag:yaml.org,2002:"};function Parser(){this.current_event=null;this.yaml_version=null;this.tag_handles={};this.states=[];this.marks=[];this.state="parse_stream_start"}Parser.prototype.dispose=function(){this.states=[];return this.state=null};Parser.prototype.check_event=function(){var choice,choices,_i,_len;choices=1<=arguments.length?__slice.call(arguments,0):[];if(this.current_event===null){if(this.state!=null){this.current_event=this[this.state]()}}if(this.current_event!==null){if(choices.length===0){return true}for(_i=0,_len=choices.length;_i<_len;_i++){choice=choices[_i];if(this.current_event instanceof choice){return true}}}return false};Parser.prototype.peek_event=function(){if(this.current_event===null&&this.state!=null){this.current_event=this[this.state]()}return this.current_event};Parser.prototype.get_event=function(){var event;if(this.current_event===null&&this.state!=null){this.current_event=this[this.state]()}event=this.current_event;this.current_event=null;return event};Parser.prototype.parse_stream_start=function(){var event,token;token=this.get_token();event=new events.StreamStartEvent(token.start_mark,token.end_mark);this.state="parse_implicit_document_start";return event};Parser.prototype.parse_implicit_document_start=function(){var end_mark,event,start_mark,token;if(!this.check_token(tokens.DirectiveToken,tokens.DocumentStartToken,tokens.StreamEndToken)){this.tag_handles=DEFAULT_TAGS;token=this.peek_token();start_mark=end_mark=token.start_mark;event=new events.DocumentStartEvent(start_mark,end_mark,false);this.states.push("parse_document_end");this.state="parse_block_node";return event}else{return this.parse_document_start()}};Parser.prototype.parse_document_start=function(){var end_mark,event,start_mark,tags,token,version,_ref1;while(this.check_token(tokens.DocumentEndToken)){this.get_token()}if(!this.check_token(tokens.StreamEndToken)){start_mark=this.peek_token().start_mark;_ref1=this.process_directives(),version=_ref1[0],tags=_ref1[1];if(!this.check_token(tokens.DocumentStartToken)){throw new exports.ParserError("expected '<document start>', but found "+this.peek_token().id,this.peek_token().start_mark)}token=this.get_token();end_mark=token.end_mark;event=new events.DocumentStartEvent(start_mark,end_mark,true,version,tags);this.states.push("parse_document_end");this.state="parse_document_content"}else{token=this.get_token();event=new events.StreamEndEvent(token.start_mark,token.end_mark);if(this.states.length!==0){throw new Error("assertion error, states should be empty")}if(this.marks.length!==0){throw new Error("assertion error, marks should be empty")}this.state=null}return event};Parser.prototype.parse_document_end=function(){var end_mark,event,explicit,start_mark,token;token=this.peek_token();start_mark=end_mark=token.start_mark;explicit=false;if(this.check_token(tokens.DocumentEndToken)){token=this.get_token();end_mark=token.end_mark;explicit=true}event=new events.DocumentEndEvent(start_mark,end_mark,explicit);this.state="parse_document_start";return event};Parser.prototype.parse_document_content=function(){var event;if(this.check_token(tokens.DirectiveToken,tokens.DocumentStartToken,tokens.DocumentEndToken,tokens.StreamEndToken)){event=this.process_empty_scalar(this.peek_token().start_mark);this.state=this.states.pop();return event}else{return this.parse_block_node()}};Parser.prototype.process_directives=function(){var handle,major,minor,prefix,tag_handles_copy,token,value,_ref1,_ref2,_ref3;this.yaml_version=null;this.tag_handles={};while(this.check_token(tokens.DirectiveToken)){token=this.get_token();if(token.name==="YAML"){if(this.yaml_version!==null){throw new exports.ParserError(null,null,"found duplicate YAML directive",token.start_mark)}_ref1=token.value,major=_ref1[0],minor=_ref1[1];if(major!==1){throw new exports.ParserError(null,null,"found incompatible YAML document (version 1.* is required)",token.start_mark)}this.yaml_version=token.value}else if(token.name==="TAG"){_ref2=this.tag_handles,handle=_ref2[0],prefix=_ref2[1];if(handle in this.tag_handles){throw new exports.ParserError(null,null,"duplicate tag handle "+handle,token.start_mark)}this.tag_handles[handle]=prefix}}tag_handles_copy=null;_ref3=this.tag_handles;for(handle in _ref3){if(!__hasProp.call(_ref3,handle))continue;prefix=_ref3[handle];if(tag_handles_copy==null){tag_handles_copy={}}tag_handles_copy[handle]=prefix}value=[this.yaml_version,tag_handles_copy];for(handle in DEFAULT_TAGS){if(!__hasProp.call(DEFAULT_TAGS,handle))continue;prefix=DEFAULT_TAGS[handle];if(!(prefix in this.tag_handles)){this.tag_handles[handle]=prefix}}return value};Parser.prototype.parse_block_node=function(){return this.parse_node(true)};Parser.prototype.parse_flow_node=function(){return this.parse_node()};Parser.prototype.parse_block_node_or_indentless_sequence=function(){return this.parse_node(true,true)};Parser.prototype.parse_node=function(block,indentless_sequence){var anchor,end_mark,event,handle,implicit,node,start_mark,suffix,tag,tag_mark,token;if(block==null){block=false}if(indentless_sequence==null){indentless_sequence=false}if(this.check_token(tokens.AliasToken)){token=this.get_token();event=new events.AliasEvent(token.value,token.start_mark,token.end_mark);this.state=this.states.pop()}else{anchor=null;tag=null;start_mark=end_mark=tag_mark=null;if(this.check_token(tokens.AnchorToken)){token=this.get_token();start_mark=token.start_mark;end_mark=token.end_mark;anchor=token.value;if(this.check_token(tokens.TagToken)){token=this.get_token();tag_mark=token.start_mark;end_mark=token.end_mark;tag=token.value}}else if(this.check_token(tokens.TagToken)){token=this.get_token();start_mark=tag_mark=token.start_mark;end_mark=token.end_mark;tag=token.value;if(this.check_token(tokens.AnchorToken)){token=this.get_token();
end_mark=token.end_mark;anchor=token.value}}if(tag!==null){handle=tag[0],suffix=tag[1];if(handle!==null){if(!(handle in this.tag_handles)){throw new exports.ParserError("while parsing a node",start_mark,"found undefined tag handle "+handle,tag_mark)}tag=this.tag_handles[handle]+suffix}else{tag=suffix}}if(start_mark===null){start_mark=end_mark=this.peek_token().start_mark}event=null;implicit=tag===null||tag==="!";if(indentless_sequence&&this.check_token(tokens.BlockEntryToken)){end_mark=this.peek_token().end_mark;event=new events.SequenceStartEvent(anchor,tag,implicit,start_mark,end_mark);this.state="parse_indentless_sequence_entry"}else{if(this.check_token(tokens.ScalarToken)){token=this.get_token();end_mark=token.end_mark;if(token.plain&&tag===null||tag==="!"){implicit=[true,false]}else if(tag===null){implicit=[false,true]}else{implicit=[false,false]}event=new events.ScalarEvent(anchor,tag,implicit,token.value,start_mark,end_mark,token.style);this.state=this.states.pop()}else if(this.check_token(tokens.FlowSequenceStartToken)){end_mark=this.peek_token().end_mark;event=new events.SequenceStartEvent(anchor,tag,implicit,start_mark,end_mark,true);this.state="parse_flow_sequence_first_entry"}else if(this.check_token(tokens.FlowMappingStartToken)){end_mark=this.peek_token().end_mark;event=new events.MappingStartEvent(anchor,tag,implicit,start_mark,end_mark,true);this.state="parse_flow_mapping_first_key"}else if(block&&this.check_token(tokens.BlockSequenceStartToken)){end_mark=this.peek_token().end_mark;event=new events.SequenceStartEvent(anchor,tag,implicit,start_mark,end_mark,false);this.state="parse_block_sequence_first_entry"}else if(block&&this.check_token(tokens.BlockMappingStartToken)){end_mark=this.peek_token().end_mark;event=new events.MappingStartEvent(anchor,tag,implicit,start_mark,end_mark,false);this.state="parse_block_mapping_first_key"}else if(anchor!==null||tag!==null){event=new events.ScalarEvent(anchor,tag,[implicit,false],"",start_mark,end_mark);this.state=this.states.pop()}else{if(block){node="block"}else{node="flow"}token=this.peek_token();throw new exports.ParserError("while parsing a "+node+" node",start_mark,"expected the node content, but found "+token.id,token.start_mark)}}}return event};Parser.prototype.parse_block_sequence_first_entry=function(){var token;token=this.get_token();this.marks.push(token.start_mark);return this.parse_block_sequence_entry()};Parser.prototype.parse_block_sequence_entry=function(){var event,token;if(this.check_token(tokens.BlockEntryToken)){token=this.get_token();if(!this.check_token(tokens.BlockEntryToken,tokens.BlockEndToken)){this.states.push("parse_block_sequence_entry");return this.parse_block_node()}else{this.state="parse_block_sequence_entry";return this.process_empty_scalar(token.end_mark)}}if(!this.check_token(tokens.BlockEndToken)){token=this.peek_token();throw new exports.ParserError("while parsing a block collection",this.marks.slice(-1)[0],"expected <block end>, but found "+token.id,token.start_mark)}token=this.get_token();event=new events.SequenceEndEvent(token.start_mark,token.end_mark);this.state=this.states.pop();this.marks.pop();return event};Parser.prototype.parse_indentless_sequence_entry=function(){var event,token;if(this.check_token(tokens.BlockEntryToken)){token=this.get_token();if(!this.check_token(tokens.BlockEntryToken,tokens.KeyToken,tokens.ValueToken,tokens.BlockEndToken)){this.states.push("parse_indentless_sequence_entry");return this.parse_block_node()}else{this.state="parse_indentless_sequence_entry";return this.process_empty_scalar(token.end_mark)}}token=this.peek_token();event=new events.SequenceEndEvent(token.start_mark,token.start_mark);this.state=this.states.pop();return event};Parser.prototype.parse_block_mapping_first_key=function(){var token;token=this.get_token();this.marks.push(token.start_mark);return this.parse_block_mapping_key()};Parser.prototype.parse_block_mapping_key=function(){var event,token;if(this.check_token(tokens.KeyToken)){token=this.get_token();if(!this.check_token(tokens.KeyToken,tokens.ValueToken,tokens.BlockEndToken)){this.states.push("parse_block_mapping_value");return this.parse_block_node_or_indentless_sequence()}else{this.state="parse_block_mapping_value";return this.process_empty_scalar(token.end_mark)}}if(!this.check_token(tokens.BlockEndToken)){token=this.peek_token();throw new exports.ParserError("while parsing a block mapping",this.marks.slice(-1)[0],"expected <block end>, but found "+token.id,token.start_mark)}token=this.get_token();event=new events.MappingEndEvent(token.start_mark,token.end_mark);this.state=this.states.pop();this.marks.pop();return event};Parser.prototype.parse_block_mapping_value=function(){var token;if(this.check_token(tokens.ValueToken)){token=this.get_token();if(!this.check_token(tokens.KeyToken,tokens.ValueToken,tokens.BlockEndToken)){this.states.push("parse_block_mapping_key");return this.parse_block_node_or_indentless_sequence()}else{this.state="parse_block_mapping_key";return this.process_empty_scalar(token.end_mark)}}else{this.state="parse_block_mapping_key";token=this.peek_token();return this.process_empty_scalar(token.start_mark)}};Parser.prototype.parse_flow_sequence_first_entry=function(){var token;token=this.get_token();this.marks.push(token.start_mark);return this.parse_flow_sequence_entry(true)};Parser.prototype.parse_flow_sequence_entry=function(first){var event,token;if(first==null){first=false}if(!this.check_token(tokens.FlowSequenceEndToken)){if(!first){if(this.check_token(tokens.FlowEntryToken)){this.get_token()}else{token=this.peek_token();throw new exports.ParserError("while parsing a flow sequence",this.marks.slice(-1)[0],"expected ',' or ']', but got "+token.id,token.start_mark)}}if(this.check_token(tokens.KeyToken)){token=this.peek_token();event=new events.MappingStartEvent(null,null,true,token.start_mark,token.end_mark,true);this.state="parse_flow_sequence_entry_mapping_key";return event}else if(!this.check_token(tokens.FlowSequenceEndToken)){this.states.push("parse_flow_sequence_entry");return this.parse_flow_node()}}token=this.get_token();event=new events.SequenceEndEvent(token.start_mark,token.end_mark);this.state=this.states.pop();this.marks.pop();return event};Parser.prototype.parse_flow_sequence_entry_mapping_key=function(){var token;token=this.get_token();if(!this.check_token(tokens.ValueToken,tokens.FlowEntryToken,tokens.FlowSequenceEndToken)){this.states.push("parse_flow_sequence_entry_mapping_value");return this.parse_flow_node()}else{this.state="parse_flow_sequence_entry_mapping_value";return this.process_empty_scalar(token.end_mark)}};Parser.prototype.parse_flow_sequence_entry_mapping_value=function(){var token;if(this.check_token(tokens.ValueToken)){token=this.get_token();if(!this.check_token(tokens.FlowEntryToken,tokens.FlowSequenceEndToken)){this.states.push("parse_flow_sequence_entry_mapping_end");return this.parse_flow_node()}else{this.state="parse_flow_sequence_entry_mapping_end";return this.process_empty_scalar(token.end_mark)}}else{this.state="parse_flow_sequence_entry_mapping_end";token=this.peek_token();return this.process_empty_scalar(token.start_mark)}};Parser.prototype.parse_flow_sequence_entry_mapping_end=function(){var token;this.state="parse_flow_sequence_entry";token=this.peek_token();return new events.MappingEndEvent(token.start_mark,token.start_mark)};Parser.prototype.parse_flow_mapping_first_key=function(){var token;token=this.get_token();this.marks.push(token.start_mark);return this.parse_flow_mapping_key(true)};Parser.prototype.parse_flow_mapping_key=function(first){var event,token;if(first==null){first=false}if(!this.check_token(tokens.FlowMappingEndToken)){if(!first){if(this.check_token(tokens.FlowEntryToken)){this.get_token()}else{token=this.peek_token();throw new exports.ParserError("while parsing a flow mapping",this.marks.slice(-1)[0],"expected ',' or '}', but got "+token.id,token.start_mark)}}if(this.check_token(tokens.KeyToken)){token=this.get_token();if(!this.check_token(tokens.ValueToken,tokens.FlowEntryToken,tokens.FlowMappingEndToken)){this.states.push("parse_flow_mapping_value");return this.parse_flow_node()}else{this.state="parse_flow_mapping_value";return this.process_empty_scalar(token.end_mark)}}else if(!this.check_token(tokens.FlowMappingEndToken)){this.states.push("parse_flow_mapping_empty_value");return this.parse_flow_node()}}token=this.get_token();event=new events.MappingEndEvent(token.start_mark,token.end_mark);this.state=this.states.pop();this.marks.pop();return event};Parser.prototype.parse_flow_mapping_value=function(){var token;if(this.check_token(tokens.ValueToken)){token=this.get_token();if(!this.check_token(tokens.FlowEntryToken,tokens.FlowMappingEndToken)){this.states.push("parse_flow_mapping_key");return this.parse_flow_node()}else{this.state="parse_flow_mapping_key";return this.process_empty_scalar(token.end_mark)}}else{this.state="parse_flow_mapping_key";token=this.peek_token();return this.process_empty_scalar(token.start_mark)}};Parser.prototype.parse_flow_mapping_empty_value=function(){this.state="parse_flow_mapping_key";return this.process_empty_scalar(this.peek_token().start_mark)};Parser.prototype.process_empty_scalar=function(mark){return new events.ScalarEvent(null,null,[true,false],"",mark,mark)};return Parser}()}).call(this)},{"./errors":4,"./events":5,"./tokens":12}],9:[function(require,module,exports){(function(){var Mark,YAMLError,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};_ref=require("./errors"),Mark=_ref.Mark,YAMLError=_ref.YAMLError;this.ReaderError=function(_super){__extends(ReaderError,_super);function ReaderError(name,position,character,reason){this.name=name;this.position=position;this.character=character;this.reason=reason;ReaderError.__super__.constructor.call(this)}ReaderError.prototype.toString=function(){return"unacceptable character "+this.character.charCodeAt()+": "+this.reason+'\n  in "'+this.name+'", position '+this.position};return ReaderError}(YAMLError);this.Reader=function(){var NON_PRINTABLE;NON_PRINTABLE=/[^\x09\x0A\x0D\x20-\x7E\x85\xA0-\uD7FF\uE000-\uFFFD]/;function Reader(string){this.string=string;this.line=0;this.column=0;this.index=0;this.check_printable();this.string+="\x00"}Reader.prototype.peek=function(index){if(index==null){index=0}return this.string[this.index+index]};Reader.prototype.prefix=function(length){if(length==null){length=1}return this.string.slice(this.index,this.index+length)};Reader.prototype.forward=function(length){var char,_results;if(length==null){length=1}_results=[];while(length){char=this.string[this.index];this.index++;if(__indexOf.call("\n₂\u2029",char)>=0||char==="\r"&&this.string[this.index]!=="\n"){this.line++;this.column=0}else{this.column++}_results.push(length--)}return _results};Reader.prototype.get_mark=function(){return new Mark(this.name,this.line,this.column,this.string,this.index)};Reader.prototype.check_printable=function(){var character,match,position;match=NON_PRINTABLE.exec(this.string);if(match){character=match[0];position=this.string.length-this.index+match.index;throw new exports.ReaderError(this.name,position,character.charCodeAt(),"special characters are not allowed")}};return Reader}()}).call(this)},{"./errors":4}],10:[function(require,module,exports){(function(){var YAMLError,nodes,util,_ref,_ref1,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};nodes=require("./nodes");util=require("./util");YAMLError=require("./errors").YAMLError;this.ResolverError=function(_super){__extends(ResolverError,_super);function ResolverError(){_ref=ResolverError.__super__.constructor.apply(this,arguments);return _ref}return ResolverError}(YAMLError);this.BaseResolver=function(){var DEFAULT_MAPPING_TAG,DEFAULT_SCALAR_TAG,DEFAULT_SEQUENCE_TAG;DEFAULT_SCALAR_TAG="tag:yaml.org,2002:str";DEFAULT_SEQUENCE_TAG="tag:yaml.org,2002:seq";DEFAULT_MAPPING_TAG="tag:yaml.org,2002:map";BaseResolver.prototype.yaml_implicit_resolvers={};BaseResolver.prototype.yaml_path_resolvers={};BaseResolver.add_implicit_resolver=function(tag,regexp,first){var char,_base,_i,_len,_ref1,_results;if(first==null){first=[null]}if(!this.prototype.hasOwnProperty("yaml_implicit_resolvers")){this.prototype.yaml_implicit_resolvers=util.extend({},this.prototype.yaml_implicit_resolvers)}_results=[];for(_i=0,_len=first.length;_i<_len;_i++){char=first[_i];_results.push(((_ref1=(_base=this.prototype.yaml_implicit_resolvers)[char])!=null?_ref1:_base[char]=[]).push([tag,regexp]))}return _results};function BaseResolver(){this.resolver_exact_paths=[];this.resolver_prefix_paths=[]}BaseResolver.prototype.descend_resolver=function(current_node,current_index){var depth,exact_paths,kind,path,prefix_paths,_i,_j,_len,_len1,_ref1,_ref2,_ref3,_ref4;if(util.is_empty(this.yaml_path_resolvers)){return}exact_paths={};prefix_paths=[];if(current_node){depth=this.resolver_prefix_paths.length;_ref1=this.resolver_prefix_paths.slice(-1)[0];for(_i=0,_len=_ref1.length;_i<_len;_i++){_ref2=_ref1[_i],path=_ref2[0],kind=_ref2[1];if(this.check_resolver_prefix(depth,path,kind,current_node,current_index)){if(path.length>depth){prefix_paths.push([path,kind])}else{exact_paths[kind]=this.yaml_path_resolvers[path][kind]}}}}else{_ref3=this.yaml_path_resolvers;for(_j=0,_len1=_ref3.length;_j<_len1;_j++){_ref4=_ref3[_j],path=_ref4[0],kind=_ref4[1];if(!path){exact_paths[kind]=this.yaml_path_resolvers[path][kind]}else{prefix_paths.push([path,kind])}}}this.resolver_exact_paths.push(exact_paths);return this.resolver_prefix_paths.push(prefix_paths)};BaseResolver.prototype.ascend_resolver=function(){if(util.is_empty(this.yaml_path_resolvers)){return}this.resolver_exact_paths.pop();return this.resolver_prefix_paths.pop()};BaseResolver.prototype.check_resolver_prefix=function(depth,path,kind,current_node,current_index){var index_check,node_check,_ref1;_ref1=path[depth-1],node_check=_ref1[0],index_check=_ref1[1];if(typeof node_check==="string"){if(current_node.tag!==node_check){return}}else if(node_check!==null){if(!(current_node instanceof node_check)){return}}if(index_check===true&&current_index!==null){return}if((index_check===false||index_check===null)&&current_index===null){return}if(typeof index_check==="string"){if(!(current_index instanceof nodes.ScalarNode)&&index_check===current_index.value){return}}else if(typeof index_check==="number"){if(index_check!==current_index){return}}return true};BaseResolver.prototype.resolve=function(kind,value,implicit){var empty,exact_paths,k,regexp,resolvers,tag,_i,_len,_ref1,_ref2,_ref3,_ref4;if(kind===nodes.ScalarNode&&implicit[0]){if(value===""){resolvers=(_ref1=this.yaml_implicit_resolvers[""])!=null?_ref1:[]}else{resolvers=(_ref2=this.yaml_implicit_resolvers[value[0]])!=null?_ref2:[]}resolvers=resolvers.concat((_ref3=this.yaml_implicit_resolvers[null])!=null?_ref3:[]);for(_i=0,_len=resolvers.length;_i<_len;_i++){_ref4=resolvers[_i],tag=_ref4[0],regexp=_ref4[1];if(value.match(regexp)){return tag}}implicit=implicit[1]}empty=true;for(k in this.yaml_path_resolvers){if({}[k]==null){empty=false}}if(!empty){exact_paths=this.resolver_exact_paths.slice(-1)[0];if(__indexOf.call(exact_paths,kind)>=0){return exact_paths[kind]}if(__indexOf.call(exact_paths,null)>=0){return exact_paths[null]}}if(kind===nodes.ScalarNode){return DEFAULT_SCALAR_TAG}if(kind===nodes.SequenceNode){return DEFAULT_SEQUENCE_TAG}if(kind===nodes.MappingNode){return DEFAULT_MAPPING_TAG}};return BaseResolver}();this.Resolver=function(_super){__extends(Resolver,_super);function Resolver(){_ref1=Resolver.__super__.constructor.apply(this,arguments);return _ref1}return Resolver}(this.BaseResolver);this.Resolver.add_implicit_resolver("tag:yaml.org,2002:bool",/^(?:yes|Yes|YES|true|True|TRUE|on|On|ON|no|No|NO|false|False|FALSE|off|Off|OFF)$/,"yYnNtTfFoO");this.Resolver.add_implicit_resolver("tag:yaml.org,2002:float",/^(?:[-+]?(?:[0-9][0-9_]*)\.[0-9_]*(?:[eE][-+][0-9]+)?|\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*|[-+]?\.(?:inf|Inf|INF)|\.(?:nan|NaN|NAN))$/,"-+0123456789.");this.Resolver.add_implicit_resolver("tag:yaml.org,2002:int",/^(?:[-+]?0b[01_]+|[-+]?0[0-7_]+|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x[0-9a-fA-F_]+|[-+]?0o[0-7_]+|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$/,"-+0123456789");this.Resolver.add_implicit_resolver("tag:yaml.org,2002:merge",/^(?:<<)$/,"<");this.Resolver.add_implicit_resolver("tag:yaml.org,2002:null",/^(?:~|null|Null|NULL|)$/,["~","n","N",""]);this.Resolver.add_implicit_resolver("tag:yaml.org,2002:timestamp",/^(?:[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]|[0-9][0-9][0-9][0-9]-[0-9][0-9]?-[0-9][0-9]?(?:[Tt]|[\x20\t]+)[0-9][0-9]?:[0-9][0-9]:[0-9][0-9](?:\.[0-9]*)?(?:[\x20\t]*(?:Z|[-+][0-9][0-9]?(?::[0-9][0-9])?))?)$/,"0123456789");this.Resolver.add_implicit_resolver("tag:yaml.org,2002:value",/^(?:=)$/,"=");this.Resolver.add_implicit_resolver("tag:yaml.org,2002:yaml",/^(?:!|&|\*)$/,"!&*")}).call(this)},{"./errors":4,"./nodes":7,"./util":13}],11:[function(require,module,exports){(function(){var MarkedYAMLError,SimpleKey,tokens,util,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},__slice=[].slice,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};MarkedYAMLError=require("./errors").MarkedYAMLError;tokens=require("./tokens");util=require("./util");this.ScannerError=function(_super){__extends(ScannerError,_super);function ScannerError(){_ref=ScannerError.__super__.constructor.apply(this,arguments);return _ref}return ScannerError}(MarkedYAMLError);SimpleKey=function(){function SimpleKey(token_number,required,index,line,column,mark){this.token_number=token_number;this.required=required;this.index=index;this.line=line;this.column=column;this.mark=mark}return SimpleKey}();this.Scanner=function(){var C_LB,C_NUMBERS,C_WS,ESCAPE_CODES,ESCAPE_REPLACEMENTS;C_LB="\r\n\u2028\u2029";C_WS="	 ";C_NUMBERS="0123456789";ESCAPE_REPLACEMENTS={0:"\x00",a:"",b:"\b",t:"	","	":"	",n:"\n",v:"",f:"\f",r:"\r",e:""," ":" ",'"':'"',"\\":"\\",N:"",_:" ",L:"\u2028",P:"\u2029"};ESCAPE_CODES={x:2,u:4,U:8};function Scanner(){this.done=false;this.flow_level=0;this.tokens=[];this.fetch_stream_start();this.tokens_taken=0;this.indent=-1;this.indents=[];this.allow_simple_key=true;this.possible_simple_keys={}}Scanner.prototype.check_token=function(){var choice,choices,_i,_len;choices=1<=arguments.length?__slice.call(arguments,0):[];while(this.need_more_tokens()){this.fetch_more_tokens()}if(this.tokens.length!==0){if(choices.length===0){return true}for(_i=0,_len=choices.length;_i<_len;_i++){choice=choices[_i];if(this.tokens[0]instanceof choice){return true}}}return false};Scanner.prototype.peek_token=function(){while(this.need_more_tokens()){this.fetch_more_tokens()}if(this.tokens.length!==0){return this.tokens[0]}};Scanner.prototype.get_token=function(){while(this.need_more_tokens()){this.fetch_more_tokens()}if(this.tokens.length!==0){this.tokens_taken++;return this.tokens.shift()}};Scanner.prototype.need_more_tokens=function(){if(this.done){return false}if(this.tokens.length===0){return true}this.stale_possible_simple_keys();if(this.next_possible_simple_key()===this.tokens_taken){return true}return false};Scanner.prototype.fetch_more_tokens=function(){var char;this.scan_to_next_token();this.stale_possible_simple_keys();this.unwind_indent(this.column);char=this.peek();if(char==="\x00"){return this.fetch_stream_end()}if(char==="%"&&this.check_directive()){return this.fetch_directive()}if(char==="-"&&this.check_document_start()){return this.fetch_document_start()}if(char==="."&&this.check_document_end()){return this.fetch_document_end()}if(char==="["){return this.fetch_flow_sequence_start()}if(char==="{"){return this.fetch_flow_mapping_start()}if(char==="]"){return this.fetch_flow_sequence_end()}if(char==="}"){return this.fetch_flow_mapping_end()}if(char===","){return this.fetch_flow_entry()}if(char==="-"&&this.check_block_entry()){return this.fetch_block_entry()}if(char==="?"&&this.check_key()){return this.fetch_key()}if(char===":"&&this.check_value()){return this.fetch_value()}if(char==="*"){return this.fetch_alias()}if(char==="&"){return this.fetch_anchor()}if(char==="!"){return this.fetch_tag()}if(char==="|"&&this.flow_level===0){return this.fetch_literal()}if(char===">"&&this.flow_level===0){return this.fetch_folded()}if(char==="'"){return this.fetch_single()}if(char==='"'){return this.fetch_double()}if(this.check_plain()){return this.fetch_plain()}throw new exports.ScannerError("while scanning for the next token",null,"found character "+char+" that cannot start any token",this.get_mark())};Scanner.prototype.next_possible_simple_key=function(){var key,level,min_token_number,_ref1;min_token_number=null;_ref1=this.possible_simple_keys;for(level in _ref1){if(!__hasProp.call(_ref1,level))continue;key=_ref1[level];if(min_token_number===null||key.token_number<min_token_number){min_token_number=key.token_number}}return min_token_number};Scanner.prototype.stale_possible_simple_keys=function(){var key,level,_ref1,_results;_ref1=this.possible_simple_keys;_results=[];for(level in _ref1){if(!__hasProp.call(_ref1,level))continue;key=_ref1[level];if(key.line===this.line&&this.index-key.index<=1024){continue}if(!key.required){_results.push(delete this.possible_simple_keys[level])}else{throw new exports.ScannerError("while scanning a simple key",key.mark,"could not find expected ':'",this.get_mark())}}return _results};Scanner.prototype.save_possible_simple_key=function(){var required,token_number;required=this.flow_level===0&&this.indent===this.column;if(required&&!this.allow_simple_key){throw new Error("logic failure")}if(!this.allow_simple_key){return}this.remove_possible_simple_key();token_number=this.tokens_taken+this.tokens.length;return this.possible_simple_keys[this.flow_level]=new SimpleKey(token_number,required,this.index,this.line,this.column,this.get_mark())};Scanner.prototype.remove_possible_simple_key=function(){var key;if(!(key=this.possible_simple_keys[this.flow_level])){return}if(!key.required){return delete this.possible_simple_keys[this.flow_level]}else{throw new exports.ScannerError("while scanning a simple key",key.mark,"could not find expected ':'",this.get_mark())}};Scanner.prototype.unwind_indent=function(column){var mark,_results;if(this.flow_level!==0){return}_results=[];while(this.indent>column){mark=this.get_mark();this.indent=this.indents.pop();_results.push(this.tokens.push(new tokens.BlockEndToken(mark,mark)))}return _results};Scanner.prototype.add_indent=function(column){if(!(column>this.indent)){return false}this.indents.push(this.indent);this.indent=column;return true};Scanner.prototype.fetch_stream_start=function(){var mark;mark=this.get_mark();return this.tokens.push(new tokens.StreamStartToken(mark,mark,this.encoding))};Scanner.prototype.fetch_stream_end=function(){var mark;this.unwind_indent(-1);this.remove_possible_simple_key();this.allow_possible_simple_key=false;this.possible_simple_keys={};mark=this.get_mark();this.tokens.push(new tokens.StreamEndToken(mark,mark));return this.done=true};Scanner.prototype.fetch_directive=function(){this.unwind_indent(-1);this.remove_possible_simple_key();this.allow_simple_key=false;return this.tokens.push(this.scan_directive())};Scanner.prototype.fetch_document_start=function(){return this.fetch_document_indicator(tokens.DocumentStartToken)};Scanner.prototype.fetch_document_end=function(){return this.fetch_document_indicator(tokens.DocumentEndToken)};Scanner.prototype.fetch_document_indicator=function(TokenClass){var start_mark;this.unwind_indent(-1);this.remove_possible_simple_key();this.allow_simple_key=false;start_mark=this.get_mark();this.forward(3);return this.tokens.push(new TokenClass(start_mark,this.get_mark()))};Scanner.prototype.fetch_flow_sequence_start=function(){return this.fetch_flow_collection_start(tokens.FlowSequenceStartToken)};Scanner.prototype.fetch_flow_mapping_start=function(){return this.fetch_flow_collection_start(tokens.FlowMappingStartToken)};Scanner.prototype.fetch_flow_collection_start=function(TokenClass){var start_mark;this.save_possible_simple_key();this.flow_level++;this.allow_simple_key=true;start_mark=this.get_mark();this.forward();return this.tokens.push(new TokenClass(start_mark,this.get_mark()))};Scanner.prototype.fetch_flow_sequence_end=function(){return this.fetch_flow_collection_end(tokens.FlowSequenceEndToken)};Scanner.prototype.fetch_flow_mapping_end=function(){return this.fetch_flow_collection_end(tokens.FlowMappingEndToken)};Scanner.prototype.fetch_flow_collection_end=function(TokenClass){var start_mark;this.remove_possible_simple_key();this.flow_level--;this.allow_simple_key=false;start_mark=this.get_mark();this.forward();return this.tokens.push(new TokenClass(start_mark,this.get_mark()))};Scanner.prototype.fetch_flow_entry=function(){var start_mark;this.allow_simple_key=true;this.remove_possible_simple_key();start_mark=this.get_mark();this.forward();return this.tokens.push(new tokens.FlowEntryToken(start_mark,this.get_mark()))};Scanner.prototype.fetch_block_entry=function(){var mark,start_mark;if(this.flow_level===0){if(!this.allow_simple_key){throw new exports.ScannerError(null,null,"sequence entries are not allowed here",this.get_mark())}if(this.add_indent(this.column)){mark=this.get_mark();this.tokens.push(new tokens.BlockSequenceStartToken(mark,mark))}}this.allow_simple_key=true;this.remove_possible_simple_key();start_mark=this.get_mark();this.forward();return this.tokens.push(new tokens.BlockEntryToken(start_mark,this.get_mark()))};Scanner.prototype.fetch_key=function(){var mark,start_mark;if(this.flow_level===0){if(!this.allow_simple_key){throw new exports.ScannerError(null,null,"mapping keys are not allowed here",this.get_mark())}if(this.add_indent(this.column)){mark=this.get_mark();this.tokens.push(new tokens.BlockMappingStartToken(mark,mark))}}this.allow_simple_key=!this.flow_level;this.remove_possible_simple_key();start_mark=this.get_mark();this.forward();return this.tokens.push(new tokens.KeyToken(start_mark,this.get_mark()))};Scanner.prototype.fetch_value=function(){var key,mark,start_mark;if(key=this.possible_simple_keys[this.flow_level]){delete this.possible_simple_keys[this.flow_level];this.tokens.splice(key.token_number-this.tokens_taken,0,new tokens.KeyToken(key.mark,key.mark));if(this.flow_level===0){if(this.add_indent(key.column)){this.tokens.splice(key.token_number-this.tokens_taken,0,new tokens.BlockMappingStartToken(key.mark,key.mark))}}this.allow_simple_key=false}else{if(this.flow_level===0){if(!this.allow_simple_key){throw new exports.ScannerError(null,null,"mapping values are not allowed here",this.get_mark())}if(this.add_indent(this.column)){mark=this.get_mark();this.tokens.push(new tokens.BlockMappingStartToken(mark,mark))}}this.allow_simple_key=!this.flow_level;this.remove_possible_simple_key()}start_mark=this.get_mark();this.forward();return this.tokens.push(new tokens.ValueToken(start_mark,this.get_mark()))};Scanner.prototype.fetch_alias=function(){this.save_possible_simple_key();this.allow_simple_key=false;return this.tokens.push(this.scan_anchor(tokens.AliasToken))};Scanner.prototype.fetch_anchor=function(){this.save_possible_simple_key();this.allow_simple_key=false;return this.tokens.push(this.scan_anchor(tokens.AnchorToken))};Scanner.prototype.fetch_tag=function(){this.save_possible_simple_key();this.allow_simple_key=false;return this.tokens.push(this.scan_tag())};Scanner.prototype.fetch_literal=function(){return this.fetch_block_scalar("|")};Scanner.prototype.fetch_folded=function(){return this.fetch_block_scalar(">")};Scanner.prototype.fetch_block_scalar=function(style){this.allow_simple_key=true;this.remove_possible_simple_key();return this.tokens.push(this.scan_block_scalar(style))};Scanner.prototype.fetch_single=function(){return this.fetch_flow_scalar("'")};Scanner.prototype.fetch_double=function(){return this.fetch_flow_scalar('"')};Scanner.prototype.fetch_flow_scalar=function(style){this.save_possible_simple_key();this.allow_simple_key=false;return this.tokens.push(this.scan_flow_scalar(style))};Scanner.prototype.fetch_plain=function(){this.save_possible_simple_key();this.allow_simple_key=false;return this.tokens.push(this.scan_plain())};Scanner.prototype.check_directive=function(){if(this.column===0){return true}return false};Scanner.prototype.check_document_start=function(){var _ref1;if(this.column===0&&this.prefix(3)==="---"&&(_ref1=this.peek(3),__indexOf.call(C_LB+C_WS+"\x00",_ref1)>=0)){return true}return false};Scanner.prototype.check_document_end=function(){var _ref1;if(this.column===0&&this.prefix(3)==="..."&&(_ref1=this.peek(3),__indexOf.call(C_LB+C_WS+"\x00",_ref1)>=0)){return true}return false};Scanner.prototype.check_block_entry=function(){var _ref1;return _ref1=this.peek(1),__indexOf.call(C_LB+C_WS+"\x00",_ref1)>=0};Scanner.prototype.check_key=function(){var _ref1;if(this.flow_level!==0){return true}return _ref1=this.peek(1),__indexOf.call(C_LB+C_WS+"\x00",_ref1)>=0};Scanner.prototype.check_value=function(){var _ref1;if(this.flow_level!==0){return true}return _ref1=this.peek(1),__indexOf.call(C_LB+C_WS+"\x00",_ref1)>=0};Scanner.prototype.check_plain=function(){var char,_ref1;char=this.peek();return __indexOf.call(C_LB+C_WS+"\x00-?:,[]{}#&*!|>'\"%@`",char)<0||(_ref1=this.peek(1),__indexOf.call(C_LB+C_WS+"\x00",_ref1)<0)&&(char==="-"||this.flow_level===0&&__indexOf.call("?:",char)>=0)};Scanner.prototype.scan_to_next_token=function(){var found,_ref1,_results;if(this.index===0&&this.peek()==="﻿"){this.forward()}found=false;_results=[];while(!found){while(this.peek()===" "){this.forward()}if(this.peek()==="#"){while(_ref1=this.peek(),__indexOf.call(C_LB+"\x00",_ref1)<0){this.forward()}}if(this.scan_line_break()){if(this.flow_level===0){_results.push(this.allow_simple_key=true)}else{_results.push(void 0)}}else{_results.push(found=true)}}return _results};Scanner.prototype.scan_directive=function(){var end_mark,name,start_mark,value,_ref1;start_mark=this.get_mark();this.forward();name=this.scan_directive_name(start_mark);value=null;if(name==="YAML"){value=this.scan_yaml_directive_value(start_mark);end_mark=this.get_mark()}else if(name==="TAG"){value=this.scan_tag_directive_value(start_mark);end_mark=this.get_mark()}else{end_mark=this.get_mark();while(_ref1=this.peek(),__indexOf.call(C_LB+"\x00",_ref1)<0){this.forward()}}this.scan_directive_ignored_line(start_mark);return new tokens.DirectiveToken(name,value,start_mark,end_mark)};Scanner.prototype.scan_directive_name=function(start_mark){var char,length,value;length=0;char=this.peek(length);while("0"<=char&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||__indexOf.call("-_",char)>=0){length++;char=peek(length)}throw new exports.ScannerError("while scanning a directive",start_mark,"expected alphanumeric or numeric character but found "+char,length===0?this.get_mark():void 0);value=this.prefix(length);this.forward(length);char=this.peek();throw new exports.ScannerError("while scanning a directive",start_mark,"expected alphanumeric or numeric character but found "+char,__indexOf.call(C_LB+"\x00 ",char)<0?this.get_mark():void 0);
return value};Scanner.prototype.scan_yaml_directive_value=function(start_mark){var major,minor,_ref1;while(this.peek()===" "){this.forward()}major=this.scan_yaml_directive_number(start_mark);throw new exports.ScannerError("while scanning a directive",start_mark,"expected a digit or '.' but found "+this.peek(),this.peek()!=="."?this.get_mark():void 0);this.forward();minor=this.scan_yaml_directive_number(start_mark);throw new exports.ScannerError("while scanning a directive",start_mark,"expected a digit or ' ' but found "+this.peek(),(_ref1=this.peek(),__indexOf.call(C_LB+"\x00 ",_ref1)<0)?this.get_mark():void 0);return[major,minor]};Scanner.prototype.scan_yaml_directive_number=function(start_mark){var char,length,value,_ref1;char=this.peek();throw new exports.ScannerError("while scanning a directive",start_mark,"expected a digit but found "+char,!("0"<=char&&char<="9")?this.get_mark():void 0);length=0;while("0"<=(_ref1=this.peek(length))&&_ref1<="9"){length++}value=parseInt(this.prefix(length));this.forward(length);return value};Scanner.prototype.scan_tag_directive_value=function(start_mark){var handle,prefix;while(this.peek()===" "){this.forward()}handle=this.scan_tag_directive_handle(start_mark);while(this.peek()===" "){this.forward()}prefix=this.scan_tag_directive_prefix(start_mark);return[handle,prefix]};Scanner.prototype.scan_tag_directive_handle=function(start_mark){var char,value;value=this.scan_tag_handle("directive",start_mark);char=this.peek();throw new exports.ScannerError("while scanning a directive",start_mark,"expected ' ' but found "+char,char!==" "?this.get_mark():void 0);return value};Scanner.prototype.scan_tag_directive_prefix=function(start_mark){var char,value;value=this.scan_tag_uri("directive",start_mark);char=this.peek();throw new exports.ScannerError("while scanning a directive",start_mark,"expected ' ' but found "+char,__indexOf.call(C_LB+"\x00 ",char)<0?this.get_mark():void 0);return value};Scanner.prototype.scan_directive_ignored_line=function(start_mark){var char,_ref1;while(this.peek()===" "){this.forward()}if(this.peek()==="#"){while(_ref1=this.peek(),__indexOf.call(C_LB+"\x00",_ref1)<0){this.forward()}}char=this.peek();throw new exports.ScannerError("while scanning a directive",start_mark,"expected a comment or a line break but found "+char,__indexOf.call(C_LB+"\x00",char)<0?this.get_mark():void 0);return this.scan_line_break()};Scanner.prototype.scan_anchor=function(TokenClass){var char,indicator,length,name,start_mark,value;start_mark=this.get_mark();indicator=this.peek();if(indicator==="*"){name="alias"}else{name="anchor"}this.forward();length=0;char=this.peek(length);while("0"<=char&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||__indexOf.call("-_",char)>=0){length++;char=this.peek(length)}if(length===0){throw new exports.ScannerError("while scanning an "+name,start_mark,"expected alphabetic or numeric character but found '"+char+"'",this.get_mark())}value=this.prefix(length);this.forward(length);char=this.peek();if(__indexOf.call(C_LB+C_WS+"\x00"+"?:,]}%@`",char)<0){throw new exports.ScannerError("while scanning an "+name,start_mark,"expected alphabetic or numeric character but found '"+char+"'",this.get_mark())}return new TokenClass(value,start_mark,this.get_mark())};Scanner.prototype.scan_tag=function(){var char,handle,length,start_mark,suffix,use_handle;start_mark=this.get_mark();char=this.peek(1);if(char==="<"){handle=null;this.forward(2);suffix=this.scan_tag_uri("tag",start_mark);if(this.peek()!==">"){throw new exports.ScannerError("while parsing a tag",start_mark,"expected '>' but found "+this.peek(),this.get_mark())}this.forward()}else if(__indexOf.call(C_LB+C_WS+"\x00",char)>=0){handle=null;suffix="!";this.forward()}else{length=1;use_handle=false;while(__indexOf.call(C_LB+"\x00 ",char)<0){if(char==="!"){use_handle=true;break}length++;char=this.peek(length)}if(use_handle){handle=this.scan_tag_handle("tag",start_mark)}else{handle="!";this.forward()}suffix=this.scan_tag_uri("tag",start_mark)}char=this.peek();if(__indexOf.call(C_LB+"\x00 ",char)<0){throw new exports.ScannerError("while scanning a tag",start_mark,"expected ' ' but found "+char,this.get_mark())}return new tokens.TagToken([handle,suffix],start_mark,this.get_mark())};Scanner.prototype.scan_block_scalar=function(style){var breaks,chomping,chunks,end_mark,folded,increment,indent,leading_non_space,length,line_break,max_indent,min_indent,start_mark,_ref1,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7;folded=style===">";chunks=[];start_mark=this.get_mark();this.forward();_ref1=this.scan_block_scalar_indicators(start_mark),chomping=_ref1[0],increment=_ref1[1];this.scan_block_scalar_ignored_line(start_mark);min_indent=this.indent+1;if(min_indent<1){min_indent=1}if(increment==null){_ref2=this.scan_block_scalar_indentation(),breaks=_ref2[0],max_indent=_ref2[1],end_mark=_ref2[2];indent=Math.max(min_indent,max_indent)}else{indent=min_indent+increment-1;_ref3=this.scan_block_scalar_breaks(indent),breaks=_ref3[0],end_mark=_ref3[1]}line_break="";while(this.column===indent&&this.peek()!=="\x00"){chunks=chunks.concat(breaks);leading_non_space=(_ref4=this.peek(),__indexOf.call(" 	",_ref4)<0);length=0;while(_ref5=this.peek(length),__indexOf.call(C_LB+"\x00",_ref5)<0){length++}chunks.push(this.prefix(length));this.forward(length);line_break=this.scan_line_break();_ref6=this.scan_block_scalar_breaks(indent),breaks=_ref6[0],end_mark=_ref6[1];if(this.column===indent&&this.peek()!=="\x00"){if(folded&&line_break==="\n"&&leading_non_space&&(_ref7=this.peek(),__indexOf.call(" 	",_ref7)<0)){if(util.is_empty(breaks)){chunks.push(" ")}}else{chunks.push(line_break)}}else{break}}if(chomping!==false){chunks.push(line_break)}if(chomping===true){chunks=chunks.concat(breaks)}return new tokens.ScalarToken(chunks.join(""),false,start_mark,end_mark,style)};Scanner.prototype.scan_block_scalar_indicators=function(start_mark){var char,chomping,increment;chomping=null;increment=null;char=this.peek();if(__indexOf.call("+-",char)>=0){chomping=char==="+";this.forward();char=this.peek();if(__indexOf.call(C_NUMBERS,char)>=0){increment=parseInt(char);if(increment===0){throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected indentation indicator in the range 1-9 but found 0",this.get_mark())}this.forward()}}else if(__indexOf.call(C_NUMBERS,char)>=0){increment=parseInt(char);if(increment===0){throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected indentation indicator in the range 1-9 but found 0",this.get_mark())}this.forward();char=this.peek();if(__indexOf.call("+-",char)>=0){chomping=char==="+";this.forward()}}char=this.peek();if(__indexOf.call(C_LB+"\x00 ",char)<0){throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected chomping or indentation indicators, but found "+char,this.get_mark())}return[chomping,increment]};Scanner.prototype.scan_block_scalar_ignored_line=function(start_mark){var char,_ref1;while(this.peek()===" "){this.forward()}if(this.peek()==="#"){while(_ref1=this.peek(),__indexOf.call(C_LB+"\x00",_ref1)<0){this.forward()}}char=this.peek();if(__indexOf.call(C_LB+"\x00",char)<0){throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected a comment or a line break but found "+char,this.get_mark())}return this.scan_line_break()};Scanner.prototype.scan_block_scalar_indentation=function(){var chunks,end_mark,max_indent,_ref1;chunks=[];max_indent=0;end_mark=this.get_mark();while(_ref1=this.peek(),__indexOf.call(C_LB+" ",_ref1)>=0){if(this.peek()!==" "){chunks.push(this.scan_line_break());end_mark=this.get_mark()}else{this.forward();if(this.column>max_indent){max_indent=this.column}}}return[chunks,max_indent,end_mark]};Scanner.prototype.scan_block_scalar_breaks=function(indent){var chunks,end_mark,_ref1;chunks=[];end_mark=this.get_mark();while(this.column<indent&&this.peek()===" "){this.forward()}while(_ref1=this.peek(),__indexOf.call(C_LB,_ref1)>=0){chunks.push(this.scan_line_break());end_mark=this.get_mark();while(this.column<indent&&this.peek()===" "){this.forward()}}return[chunks,end_mark]};Scanner.prototype.scan_flow_scalar=function(style){var chunks,double,quote,start_mark;double=style==='"';chunks=[];start_mark=this.get_mark();quote=this.peek();this.forward();chunks=chunks.concat(this.scan_flow_scalar_non_spaces(double,start_mark));while(this.peek()!==quote){chunks=chunks.concat(this.scan_flow_scalar_spaces(double,start_mark));chunks=chunks.concat(this.scan_flow_scalar_non_spaces(double,start_mark))}this.forward();return new tokens.ScalarToken(chunks.join(""),false,start_mark,this.get_mark(),style)};Scanner.prototype.scan_flow_scalar_non_spaces=function(double,start_mark){var char,chunks,code,k,length,_i,_ref1,_ref2;chunks=[];while(true){length=0;while(_ref1=this.peek(length),__indexOf.call(C_LB+C_WS+"'\"\\\x00",_ref1)<0){length++}if(length!==0){chunks.push(this.prefix(length));this.forward(length)}char=this.peek();if(!double&&char==="'"&&this.peek(1)==="'"){chunks.push("'");this.forward(2)}else if(double&&char==="'"||!double&&__indexOf.call('"\\',char)>=0){chunks.push(char);this.forward()}else if(double&&char==="\\"){this.forward();char=this.peek();if(char in ESCAPE_REPLACEMENTS){chunks.push(ESCAPE_REPLACEMENTS[char]);this.forward()}else if(char in ESCAPE_CODES){length=ESCAPE_CODES[char];this.forward();for(k=_i=0;0<=length?_i<length:_i>length;k=0<=length?++_i:--_i){if(_ref2=this.peek(k),__indexOf.call(C_NUMBERS+"ABCDEFabcdef",_ref2)<0){throw new exports.ScannerError("while scanning a double-quoted scalar",start_mark,"expected escape sequence of "+length+" hexadecimal numbers, but "+"found "+this.peek(k),this.get_mark())}}code=parseInt(this.prefix(length),16);chunks.push(String.fromCharCode(code));this.forward(length)}else if(__indexOf.call(C_LB,char)>=0){this.scan_line_break();chunks=chunks.concat(this.scan_flow_scalar_breaks(double,start_mark))}else{throw new exports.ScannerError("while scanning a double-quoted scalar",start_mark,"found unknown escape character "+char,this.get_mark())}}else{return chunks}}};Scanner.prototype.scan_flow_scalar_spaces=function(double,start_mark){var breaks,char,chunks,length,line_break,whitespaces,_ref1;chunks=[];length=0;while(_ref1=this.peek(length),__indexOf.call(C_WS,_ref1)>=0){length++}whitespaces=this.prefix(length);this.forward(length);char=this.peek();if(char==="\x00"){throw new exports.ScannerError("while scanning a quoted scalar",start_mark,"found unexpected end of stream",this.get_mark())}if(__indexOf.call(C_LB,char)>=0){line_break=this.scan_line_break();breaks=this.scan_flow_scalar_breaks(double,start_mark);if(line_break!=="\n"){chunks.push(line_break)}else if(!breaks){chunks.push(" ")}chunks=chunks.concat(breaks)}else{chunks.push(whitespaces)}return chunks};Scanner.prototype.scan_flow_scalar_breaks=function(double,start_mark){var chunks,prefix,_ref1,_ref2,_ref3;chunks=[];while(true){prefix=this.prefix(3);if(prefix==="---"||prefix==="..."&&(_ref1=this.peek(3),__indexOf.call(C_LB+C_WS+"\x00",_ref1)>=0)){throw new exports.ScannerError("while scanning a quoted scalar",start_mark,"found unexpected document separator",this.get_mark())}while(_ref2=this.peek(),__indexOf.call(C_WS,_ref2)>=0){this.forward()}if(_ref3=this.peek(),__indexOf.call(C_LB,_ref3)>=0){chunks.push(this.scan_line_break())}else{return chunks}}};Scanner.prototype.scan_plain=function(){var char,chunks,end_mark,indent,length,spaces,start_mark,_ref1,_ref2;chunks=[];start_mark=end_mark=this.get_mark();indent=this.indent+1;spaces=[];while(true){length=0;if(this.peek()==="#"){break}while(true){char=this.peek(length);if(__indexOf.call(C_LB+C_WS+"\x00",char)>=0||this.flow_level===0&&char===":"&&(_ref1=this.peek(length+1),__indexOf.call(C_LB+C_WS+"\x00",_ref1)>=0)||this.flow_level!==0&&__indexOf.call(",:?[]{}",char)>=0){break}length++}if(this.flow_level!==0&&char===":"&&(_ref2=this.peek(length+1),__indexOf.call(C_LB+C_WS+"\x00,[]{}",_ref2)<0)){this.forward(length);throw new exports.ScannerError("while scanning a plain scalar",start_mark,"found unexpected ':'",this.get_mark(),"Please check http://pyyaml.org/wiki/YAMLColonInFlowContext")}if(length===0){break}this.allow_simple_key=false;chunks=chunks.concat(spaces);chunks.push(this.prefix(length));this.forward(length);end_mark=this.get_mark();spaces=this.scan_plain_spaces(indent,start_mark);if(spaces==null||spaces.length===0||this.peek()==="#"||this.flow_level===0&&this.column<indent){break}}return new tokens.ScalarToken(chunks.join(""),true,start_mark,end_mark)};Scanner.prototype.scan_plain_spaces=function(indent,start_mark){var breaks,char,chunks,length,line_break,prefix,whitespaces,_ref1,_ref2,_ref3,_ref4;chunks=[];length=0;while(_ref1=this.peek(length),__indexOf.call(" ",_ref1)>=0){length++}whitespaces=this.prefix(length);this.forward(length);char=this.peek();if(__indexOf.call(C_LB,char)>=0){line_break=this.scan_line_break();this.allow_simple_key=true;prefix=this.prefix(3);if(prefix==="---"||prefix==="..."&&(_ref2=this.peek(3),__indexOf.call(C_LB+C_WS+"\x00",_ref2)>=0)){return}breaks=[];while(_ref4=this.peek(),__indexOf.call(C_LB+" ",_ref4)>=0){if(this.peek()===" "){this.forward()}else{breaks.push(this.scan_line_break());prefix=this.prefix(3);if(prefix==="---"||prefix==="..."&&(_ref3=this.peek(3),__indexOf.call(C_LB+C_WS+"\x00",_ref3)>=0)){return}}}if(line_break!=="\n"){chunks.push(line_break)}else if(breaks.length===0){chunks.push(" ")}chunks=chunks.concat(breaks)}else if(whitespaces){chunks.push(whitespaces)}return chunks};Scanner.prototype.scan_tag_handle=function(name,start_mark){var char,length,value;char=this.peek();if(char!=="!"){throw new exports.ScannerError("while scanning a "+name,start_mark,"expected '!' but found "+char,this.get_mark())}length=1;char=this.peek(length);if(char!==" "){while("0"<=char&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||__indexOf.call("-_",char)>=0){length++;char=this.peek(length)}if(char!=="!"){this.forward(length);throw new exports.ScannerError("while scanning a "+name,start_mark,"expected '!' but found "+char,this.get_mark())}length++}value=this.prefix(length);this.forward(length);return value};Scanner.prototype.scan_tag_uri=function(name,start_mark){var char,chunks,length;chunks=[];length=0;char=this.peek(length);while("0"<=char&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||__indexOf.call("-;/?:@&=+$,_.!~*'()[]%",char)>=0){if(char==="%"){chunks.push(this.prefix(length));this.forward(length);length=0;chunks.push(this.scan_uri_escapes(name,start_mark))}else{length++}char=this.peek(length)}if(length!==0){chunks.push(this.prefix(length));this.forward(length);length=0}if(chunks.length===0){throw new exports.ScannerError("while parsing a "+name,start_mark,"expected URI but found "+char,this.get_mark())}return chunks.join("")};Scanner.prototype.scan_uri_escapes=function(name,start_mark){var bytes,k,mark,_i;bytes=[];mark=this.get_mark();while(this.peek()==="%"){this.forward();for(k=_i=0;_i<=2;k=++_i){throw new exports.ScannerError("while scanning a "+name,start_mark,"expected URI escape sequence of 2 hexadecimal numbers but found          "+this.peek(k),this.get_mark())}bytes.push(String.fromCharCode(parseInt(this.prefix(2),16)));this.forward(2)}return bytes.join("")};Scanner.prototype.scan_line_break=function(){var char;char=this.peek();if(__indexOf.call("\r\n",char)>=0){if(this.prefix(2)==="\r\n"){this.forward(2)}else{this.forward()}return"\n"}else if(__indexOf.call("\u2028\u2029",char)>=0){this.forward();return char}return""};return Scanner}()}).call(this)},{"./errors":4,"./tokens":12,"./util":13}],12:[function(require,module,exports){(function(){var _ref,_ref1,_ref10,_ref11,_ref12,_ref13,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};this.Token=function(){function Token(start_mark,end_mark){this.start_mark=start_mark;this.end_mark=end_mark}return Token}();this.DirectiveToken=function(_super){__extends(DirectiveToken,_super);DirectiveToken.prototype.id="<directive>";function DirectiveToken(name,value,start_mark,end_mark){this.name=name;this.value=value;this.start_mark=start_mark;this.end_mark=end_mark}return DirectiveToken}(this.Token);this.DocumentStartToken=function(_super){__extends(DocumentStartToken,_super);function DocumentStartToken(){_ref=DocumentStartToken.__super__.constructor.apply(this,arguments);return _ref}DocumentStartToken.prototype.id="<document start>";return DocumentStartToken}(this.Token);this.DocumentEndToken=function(_super){__extends(DocumentEndToken,_super);function DocumentEndToken(){_ref1=DocumentEndToken.__super__.constructor.apply(this,arguments);return _ref1}DocumentEndToken.prototype.id="<document end>";return DocumentEndToken}(this.Token);this.StreamStartToken=function(_super){__extends(StreamStartToken,_super);StreamStartToken.prototype.id="<stream start>";function StreamStartToken(start_mark,end_mark,encoding){this.start_mark=start_mark;this.end_mark=end_mark;this.encoding=encoding}return StreamStartToken}(this.Token);this.StreamEndToken=function(_super){__extends(StreamEndToken,_super);function StreamEndToken(){_ref2=StreamEndToken.__super__.constructor.apply(this,arguments);return _ref2}StreamEndToken.prototype.id="<stream end>";return StreamEndToken}(this.Token);this.BlockSequenceStartToken=function(_super){__extends(BlockSequenceStartToken,_super);function BlockSequenceStartToken(){_ref3=BlockSequenceStartToken.__super__.constructor.apply(this,arguments);return _ref3}BlockSequenceStartToken.prototype.id="<block sequence start>";return BlockSequenceStartToken}(this.Token);this.BlockMappingStartToken=function(_super){__extends(BlockMappingStartToken,_super);function BlockMappingStartToken(){_ref4=BlockMappingStartToken.__super__.constructor.apply(this,arguments);return _ref4}BlockMappingStartToken.prototype.id="<block mapping end>";return BlockMappingStartToken}(this.Token);this.BlockEndToken=function(_super){__extends(BlockEndToken,_super);function BlockEndToken(){_ref5=BlockEndToken.__super__.constructor.apply(this,arguments);return _ref5}BlockEndToken.prototype.id="<block end>";return BlockEndToken}(this.Token);this.FlowSequenceStartToken=function(_super){__extends(FlowSequenceStartToken,_super);function FlowSequenceStartToken(){_ref6=FlowSequenceStartToken.__super__.constructor.apply(this,arguments);return _ref6}FlowSequenceStartToken.prototype.id="[";return FlowSequenceStartToken}(this.Token);this.FlowMappingStartToken=function(_super){__extends(FlowMappingStartToken,_super);function FlowMappingStartToken(){_ref7=FlowMappingStartToken.__super__.constructor.apply(this,arguments);return _ref7}FlowMappingStartToken.prototype.id="{";return FlowMappingStartToken}(this.Token);this.FlowSequenceEndToken=function(_super){__extends(FlowSequenceEndToken,_super);function FlowSequenceEndToken(){_ref8=FlowSequenceEndToken.__super__.constructor.apply(this,arguments);return _ref8}FlowSequenceEndToken.prototype.id="]";return FlowSequenceEndToken}(this.Token);this.FlowMappingEndToken=function(_super){__extends(FlowMappingEndToken,_super);function FlowMappingEndToken(){_ref9=FlowMappingEndToken.__super__.constructor.apply(this,arguments);return _ref9}FlowMappingEndToken.prototype.id="}";return FlowMappingEndToken}(this.Token);this.KeyToken=function(_super){__extends(KeyToken,_super);function KeyToken(){_ref10=KeyToken.__super__.constructor.apply(this,arguments);return _ref10}KeyToken.prototype.id="?";return KeyToken}(this.Token);this.ValueToken=function(_super){__extends(ValueToken,_super);function ValueToken(){_ref11=ValueToken.__super__.constructor.apply(this,arguments);return _ref11}ValueToken.prototype.id=":";return ValueToken}(this.Token);this.BlockEntryToken=function(_super){__extends(BlockEntryToken,_super);function BlockEntryToken(){_ref12=BlockEntryToken.__super__.constructor.apply(this,arguments);return _ref12}BlockEntryToken.prototype.id="-";return BlockEntryToken}(this.Token);this.FlowEntryToken=function(_super){__extends(FlowEntryToken,_super);function FlowEntryToken(){_ref13=FlowEntryToken.__super__.constructor.apply(this,arguments);return _ref13}FlowEntryToken.prototype.id=",";return FlowEntryToken}(this.Token);this.AliasToken=function(_super){__extends(AliasToken,_super);AliasToken.prototype.id="<alias>";function AliasToken(value,start_mark,end_mark){this.value=value;this.start_mark=start_mark;this.end_mark=end_mark}return AliasToken}(this.Token);this.AnchorToken=function(_super){__extends(AnchorToken,_super);AnchorToken.prototype.id="<anchor>";function AnchorToken(value,start_mark,end_mark){this.value=value;this.start_mark=start_mark;this.end_mark=end_mark}return AnchorToken}(this.Token);this.TagToken=function(_super){__extends(TagToken,_super);TagToken.prototype.id="<tag>";function TagToken(value,start_mark,end_mark){this.value=value;this.start_mark=start_mark;this.end_mark=end_mark}return TagToken}(this.Token);this.ScalarToken=function(_super){__extends(ScalarToken,_super);ScalarToken.prototype.id="<scalar>";function ScalarToken(value,plain,start_mark,end_mark,style){this.value=value;this.plain=plain;this.start_mark=start_mark;this.end_mark=end_mark;this.style=style}return ScalarToken}(this.Token)}).call(this)},{}],13:[function(require,module,exports){(function(){var __slice=[].slice,__hasProp={}.hasOwnProperty;this.extend=function(){var destination,k,source,sources,v,_i,_len;destination=arguments[0],sources=2<=arguments.length?__slice.call(arguments,1):[];for(_i=0,_len=sources.length;_i<_len;_i++){source=sources[_i];for(k in source){v=source[k];destination[k]=v}}return destination};this.is_empty=function(obj){var key;if(Array.isArray(obj)||typeof obj==="string"){return obj.length===0}for(key in obj){if(!__hasProp.call(obj,key))continue;return false}return true}}).call(this)},{}],14:[function(require,module,exports){(function(){var fs;this.composer=require("./composer");this.constructor=require("./constructor");this.errors=require("./errors");this.events=require("./events");this.loader=require("./loader");this.nodes=require("./nodes");this.parser=require("./parser");this.reader=require("./reader");this.resolver=require("./resolver");this.scanner=require("./scanner");this.tokens=require("./tokens");this.scan=function(stream,Loader){var loader,_results;if(Loader==null){Loader=exports.loader.Loader}loader=new Loader(stream);_results=[];while(loader.check_token()){_results.push(loader.get_token())}return _results};this.parse=function(stream,Loader){var loader,_results;if(Loader==null){Loader=exports.loader.Loader}loader=new Loader(stream);_results=[];while(loader.check_event()){_results.push(loader.get_event())}return _results};this.compose=function(stream,Loader){var loader;if(Loader==null){Loader=exports.loader.Loader}loader=new Loader(stream);return loader.get_single_node()};this.compose_all=function(stream,Loader){var loader,_results;if(Loader==null){Loader=exports.loader.Loader}loader=new Loader(stream);_results=[];while(loader.check_node()){_results.push(loader.get_node())}return _results};this.load=function(stream,Loader){var loader;if(Loader==null){Loader=exports.loader.Loader}loader=new Loader(stream);return loader.get_single_data()};this.load_all=function(stream,Loader){var loader,_results;if(Loader==null){Loader=exports.loader.Loader}loader=new Loader(stream);_results=[];while(loader.check_data()){_results.push(loader.get_data())}return _results};if(typeof require!=="undefined"&&require!==null&&require.extensions){fs=require("fs");require.extensions[".yml"]=require.extensions[".yaml"]=function(module,filename){return module.exports=exports.load_all(fs.readFileSync(filename,"utf8"))}}}).call(this)},{"./composer":2,"./constructor":3,"./errors":4,"./events":5,"./loader":6,"./nodes":7,"./parser":8,"./reader":9,"./resolver":10,"./scanner":11,"./tokens":12,fs:18}],15:[function(require,module,exports){var saveAs=saveAs||typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(view){"use strict";var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},URL=view.URL||view.webkitURL||view,save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link=!view.externalHost&&"download"in save_link,click=function(node){var event=doc.createEvent("MouseEvents");event.initMouseEvent("click",true,false,view,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(event)},webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)(function(){throw ex},0)},force_saveable_type="application/octet-stream",fs_min_size=0,deletion_queue=[],process_deletion_queue=function(){var i=deletion_queue.length;while(i--){var file=deletion_queue[i];if(typeof file==="string"){URL.revokeObjectURL(file)}else{file.remove()}}deletion_queue.length=0},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}},FileSaver=function(blob,name){var filesaver=this,type=blob.type,blob_changed=false,object_url,target_view,get_object_url=function(){var object_url=get_URL().createObjectURL(blob);deletion_queue.push(object_url);return object_url},dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if(blob_changed||!object_url){object_url=get_object_url(blob)}if(target_view){target_view.location.href=object_url}else{window.open(object_url,"_blank")}filesaver.readyState=filesaver.DONE;dispatch_all()},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE){return func.apply(this,arguments)}}},create_if_not_found={create:true,exclusive:false},slice;filesaver.readyState=filesaver.INIT;if(!name){name="download"}if(can_use_save_link){object_url=get_object_url(blob);doc=view.document;save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a");save_link.href=object_url;save_link.download=name;var event=doc.createEvent("MouseEvents");event.initMouseEvent("click",true,false,view,0,0,0,0,0,false,false,false,false,0,null);save_link.dispatchEvent(event);filesaver.readyState=filesaver.DONE;dispatch_all();return}if(view.chrome&&type&&type!==force_saveable_type){slice=blob.slice||blob.webkitSlice;blob=slice.call(blob,0,blob.size,force_saveable_type);blob_changed=true}if(webkit_req_fs&&name!=="download"){name+=".download"}if(type===force_saveable_type||webkit_req_fs){target_view=view}if(!req_fs){fs_error();return}fs_min_size+=blob.size;req_fs(view.TEMPORARY,fs_min_size,abortable(function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable(function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable(function(file){file.createWriter(abortable(function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL();deletion_queue.push(file);filesaver.readyState=filesaver.DONE;dispatch(filesaver,"writeend",event)};writer.onerror=function(){var error=writer.error;if(error.code!==error.ABORT_ERR){fs_error()}};"writestart progress write abort".split(" ").forEach(function(event){writer["on"+event]=filesaver["on"+event]});writer.write(blob);filesaver.abort=function(){writer.abort();filesaver.readyState=filesaver.DONE};filesaver.readyState=filesaver.WRITING}),fs_error)}),fs_error)};dir.getFile(name,{create:false},abortable(function(file){file.remove();save()}),abortable(function(ex){if(ex.code===ex.NOT_FOUND_ERR){save()}else{fs_error()}}))}),fs_error)}),fs_error)},FS_proto=FileSaver.prototype,saveAs=function(blob,name){return new FileSaver(blob,name)};FS_proto.abort=function(){var filesaver=this;filesaver.readyState=filesaver.DONE;dispatch(filesaver,"abort")};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;view.addEventListener("unload",process_deletion_queue,false);return saveAs}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined")module.exports=saveAs},{}],16:[function(require,module,exports){(function(){(function($,window,document){var Muninn;$.prototype.muninn=function($options){var _ref;if($options==null){$options={}}return(_ref=$.data(this,"muninn"))!=null?_ref:$.data(this,"muninn",new Muninn(this,$options))};return Muninn=function(){var chosen,path,saveAs,yaml;path=require("path");yaml=require("yaml-js");saveAs=require("./FileSaver");chosen=require("chosen-jquery-browserify");Muninn.prototype["default"]={title:"Title",date:"d MM, yy",tags:"#tag-cloud"};Muninn.prototype.options=null;Muninn.prototype.title=null;Muninn.prototype.date=null;Muninn.prototype.content=null;Muninn.prototype.file=null;Muninn.prototype.save=null;Muninn.prototype.filename="";Muninn.prototype.select=null;Muninn.prototype.chosen=null;Muninn.prototype.tags=null;Muninn.prototype.tag=null;Muninn.prototype.add=null;Muninn.prototype.selected=null;Muninn.prototype.comments=null;Muninn.prototype.status="none";function Muninn($container,$options){var $tag,_i,_len,_ref,_this=this;this.options=$.extend(this["default"],$options);this.tags=[];_ref=$(this.options.tags).text().split(/\s+/).sort();for(_i=0,_len=_ref.length;_i<_len;_i++){$tag=_ref[_i];if($tag!==""){this.tags.push($tag)}}$container.html('<div class="span12">\n  <h1 class="muninn-title"></h1>\n  <input class="muninn-date muted" type="text" placeholder="Enter Date" />\n  <div class="muninn-content"></div>\n  <br />\n</div>\n<div class="well span7">\n  <div class="muninn-select"></div>\n  <div class="input-append">\n    <input placeholder="Ener new tag" class="muninn-tag span6" type="text">\n    <button class="muninn-add btn" type="button"><i class="icon icon-tag"> </i></button>\n  </div>\n  <label class="radio">\n    <input class="muninn-comments" name="muninn-comments" id="muninn-comments-none" type="radio" value="none" checked> Comments are not enabled\n  </label>\n  <label class="radio">\n    <input class="muninn-comments" name="muninn-comments" id="muninn-comments-open" type="radio" value="open"> Comments are Open\n  </label>\n  <label class="radio">\n    <input class="muninn-comments" name="muninn-comments" id="muninn-comments-closed" type="radio" value="closed"> Comments are Closed\n  </label>\n  <div class="span6"></div>\n  <div class="btn-group">\n  <a class="muninn-load btn btn-primary"><i class="icon icon-upload icon-white"> </i> Load...</a>\n  <a class="muninn-save btn"><i class="icon icon-download"> </i> Save...</a>\n  </div>\n  <input class="muninn-file hidden" type="file" />\n</div>');this.title=$container.find(".muninn-title");this.date=$container.find(".muninn-date");this.content=$container.find(".muninn-content");this.select=$container.find(".muninn-select");this.tag=$container.find(".muninn-tag");this.add=$container.find(".muninn-add");this.comments=$container.find(".muninn-comments");this.file=$container.find(".muninn-file");this.load=$container.find(".muninn-load");this.save=$container.find(".muninn-save");this.date.datepicker({dateFormat:this.options.date});this.selected=[];this.title.html(this.options.title);this.content.html('<div class="muted">\n<p>Use this page to edit or create new posts. Create a new post,\nor select a post to edit from your _posts or _drafts folder.</p>\n<p>To update your site with your changes, use either:</p>\n<code>$ huginn build</code>\n<p>or</p>\n<code>$ jekyll build</code>\n</div>');tinymce.init({selector:".muninn-title",inline:true,menubar:false,toolbar:"undo redo"});tinymce.init({selector:".muninn-content",inline:true,menubar:false,plugins:["advlist autolink autosave link image lists charmap print preview hr anchor pagebreak spellchecker","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","table contextmenu directionality emoticons template textcolor paste fullpage textcolor"],toolbar1:"newdocument fullpage | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | styleselect formatselect fontselect fontsizeselect",toolbar2:"cut copy paste | searchreplace | bullist numlist | outdent indent blockquote | undo redo | link unlink anchor image media code | inserttime preview | forecolor backcolor",toolbar3:"table | hr removeformat | subscript superscript | charmap emoticons | print fullscreen | ltr rtl | spellchecker | visualchars visualblocks nonbreaking template pagebreak restoredraft"});
this.setTags(this.selected);this.file.on("change",function($e){var $file,reader;$file=$e.target.files[0];if(!/\.html$/.test($file.name)&&!/\.md$/.test($file.name)){return alert("Invalid Filetype")}reader=new FileReader;reader.onload=function($file){return function($e){var $buf,$dd,$ext,$hdr,$mm,$name,$seg,$yy,_ref1,_ref2;$buf=$e.target.result;$hdr={};if($buf.slice(0,4)==="---\n"){$buf=$buf.split("---\n");$hdr=yaml.load($buf[1]);$buf=$buf[2]}$ext=path.extname($file.name);$name=path.basename($file.name,$ext);$seg=$name.split("-");$yy=$seg.shift();$mm=$seg.shift();$dd=$seg.shift();_this.content.html($buf);_this.title.html($hdr.title);_this.date.datepicker("setDate",new Date($yy,$mm-1,$dd));_this.filename=$file.name;_this.selected=(_ref1=$hdr!=null?$hdr.tags.split(" "):void 0)!=null?_ref1:[];_this.comments=(_ref2=$hdr!=null?$hdr.comments:void 0)!=null?_ref2:"none";$container.find("#muninn-comments-"+_this.comments).prop("checked",true);return _this.setTags(_this.selected)}}($file);return reader.readAsBinaryString($file)});this.load.on("click",function($e){return _this.file.get(0).click()});this.save.on("click",function($e){var $data,$date,$dd,$mm,$slug,$yy,_ref1;$data=["---\n","title: "+_this.title.html()+"\n","tags: "+_this.selected.join(" ")+"\n","comments: "+_this.status+"\n","---\n",_this.content.html()];if(_this.filename===""){$date=(_ref1=_this.date.datepicker("getDate"))!=null?_ref1:new Date;$mm=String($date.getMonth()+1);$dd=String($date.getDate());$yy=String($date.getFullYear());if($dd.length===1){$dd="0"+$dd}if($mm.length===1){$mm="0"+$mm}$slug=_this.title.html().toLowerCase().replace(/\s+/g,"-");_this.filename=""+$yy+"-"+$mm+"-"+$dd+"-"+$slug+".html"}return saveAs(new Blob($data),_this.filename)});this.add.on("click",function($e){if(_this.tag.val()!==""){_this.selected.push(_this.tag.val());_this.tags.push(_this.tag.val());_this.tag.val("");_this.tags=_this.tags.sort();return _this.setTags(_this.selected)}});this.comments.on("change",function($e){return _this.status=$e.target.value})}Muninn.prototype.setTags=function($tags){var $html,$tag,_i,_len,_ref,_this=this;$html='<select data-placeholder="Select Tag" multiple class="chosen-select">';_ref=this.tags;for(_i=0,_len=_ref.length;_i<_len;_i++){$tag=_ref[_i];if($tags.indexOf($tag)===-1){$html+="<option>"+$tag+"</option>"}else{$html+="<option selected>"+$tag+"</option>"}}$html+="</select>";this.select.html($html);this.chosen=this.select.find(".chosen-select");this.chosen.css({width:"400px"});this.chosen.chosen({no_results_text:"no match..."});return this.chosen.chosen().change(function($e){var $option,_j,_len1,_ref1,_results;_this.selected=[];_ref1=$e.target;_results=[];for(_j=0,_len1=_ref1.length;_j<_len1;_j++){$option=_ref1[_j];if($option.selected){_results.push(_this.selected.push($option.label))}else{_results.push(void 0)}}return _results})};return Muninn}()})(jQuery,window,document)}).call(this)},{"./FileSaver":15,"chosen-jquery-browserify":1,path:21,"yaml-js":14}],17:[function(require,module,exports){(function(){$(function(){var muninn;require("./muninn");return muninn=$(".muninn").muninn()})}).call(this)},{"./muninn":16}],18:[function(require,module,exports){},{}],19:[function(require,module,exports){require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({PcZj9L:[function(require,module,exports){var base64=require("base64-js");var ieee754=require("ieee754");exports.Buffer=Buffer;exports.SlowBuffer=Buffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;var browserSupport=function(){if(typeof Uint8Array==="undefined"||typeof ArrayBuffer==="undefined"||typeof DataView==="undefined")return false;try{var arr=new Uint8Array(0);arr.foo=function(){return 42};return 42===arr.foo()}catch(e){return false}}();function Buffer(subject,encoding,noZero){if(!(this instanceof Buffer))return new Buffer(subject,encoding,noZero);var type=typeof subject;if(encoding==="base64"&&type==="string"){subject=stringtrim(subject);while(subject.length%4!==0){subject=subject+"="}}var length;if(type==="number")length=coerce(subject);else if(type==="string")length=Buffer.byteLength(subject,encoding);else if(type==="object")length=coerce(subject.length);else throw new Error("First argument needs to be a number, array or string.");var buf;if(browserSupport){buf=augment(new Uint8Array(length))}else{buf=this;buf.length=length}var i;if(Buffer.isBuffer(subject)){buf.set(subject)}else if(isArrayish(subject)){for(i=0;i<length;i++){if(Buffer.isBuffer(subject))buf[i]=subject.readUInt8(i);else buf[i]=subject[i]}}else if(type==="string"){buf.write(subject,0,encoding)}else if(type==="number"&&!browserSupport&&!noZero){for(i=0;i<length;i++){buf[i]=0}}return buf}Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":return true;default:return false}};Buffer.isBuffer=function(b){return b&&b._isBuffer};Buffer.byteLength=function(str,encoding){switch(encoding||"utf8"){case"hex":return str.length/2;case"utf8":case"utf-8":return utf8ToBytes(str).length;case"ascii":case"binary":return str.length;case"base64":return base64ToBytes(str).length;default:throw new Error("Unknown encoding")}};Buffer.concat=function(list,totalLength){if(!isArray(list)){throw new Error("Usage: Buffer.concat(list, [totalLength])\n"+"list should be an Array.")}if(list.length===0){return new Buffer(0)}else if(list.length===1){return list[0]}var i;if(typeof totalLength!=="number"){totalLength=0;for(i=0;i<list.length;i++){totalLength+=list[i].length}}var buf=new Buffer(totalLength);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};function _hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0){throw new Error("Invalid hex string")}if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var byte=parseInt(string.substr(i*2,2),16);if(isNaN(byte))throw new Error("Invalid hex string");buf[offset+i]=byte}Buffer._charsWritten=i*2;return i}function _utf8Write(buf,string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(utf8ToBytes(string),buf,offset,length)}function _asciiWrite(buf,string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(asciiToBytes(string),buf,offset,length)}function _binaryWrite(buf,string,offset,length){return _asciiWrite(buf,string,offset,length)}function _base64Write(buf,string,offset,length){var bytes,pos;return Buffer._charsWritten=blitBuffer(base64ToBytes(string),buf,offset,length)}Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length;length=swap}offset=Number(offset)||0;var remaining=this.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}encoding=String(encoding||"utf8").toLowerCase();switch(encoding){case"hex":return _hexWrite(this,string,offset,length);case"utf8":case"utf-8":return _utf8Write(this,string,offset,length);case"ascii":return _asciiWrite(this,string,offset,length);case"binary":return _binaryWrite(this,string,offset,length);case"base64":return _base64Write(this,string,offset,length);default:throw new Error("Unknown encoding")}};Buffer.prototype.toString=function(encoding,start,end){var self=this;encoding=String(encoding||"utf8").toLowerCase();start=Number(start)||0;end=end!==undefined?Number(end):end=self.length;if(end===start)return"";switch(encoding){case"hex":return _hexSlice(self,start,end);case"utf8":case"utf-8":return _utf8Slice(self,start,end);case"ascii":return _asciiSlice(self,start,end);case"binary":return _binarySlice(self,start,end);case"base64":return _base64Slice(self,start,end);default:throw new Error("Unknown encoding")}};Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(!start)start=0;if(!end&&end!==0)end=this.length;if(!target_start)target_start=0;if(end===start)return;if(target.length===0||source.length===0)return;if(end<start)throw new Error("sourceEnd < sourceStart");if(target_start<0||target_start>=target.length)throw new Error("targetStart out of bounds");if(start<0||start>=source.length)throw new Error("sourceStart out of bounds");if(end<0||end>source.length)throw new Error("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-target_start<end-start)end=target.length-target_start+start;for(var i=0;i<end-start;i++)target[i+target_start]=this[i+start]};function _base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function _utf8Slice(buf,start,end){var res="";var tmp="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){if(buf[i]<=127){res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]);tmp=""}else{tmp+="%"+buf[i].toString(16)}}return res+decodeUtf8Char(tmp)}function _asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++)ret+=String.fromCharCode(buf[i]);return ret}function _binarySlice(buf,start,end){return _asciiSlice(buf,start,end)}function _hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}Buffer.prototype.slice=function(start,end){var len=this.length;start=clamp(start,len,0);end=clamp(end,len,len);if(browserSupport){return augment(this.subarray(start,end))}else{var sliceLen=end-start;var newBuf=new Buffer(sliceLen,undefined,true);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}return newBuf}};Buffer.prototype.readUInt8=function(offset,noAssert){var buf=this;if(!noAssert){assert(offset!==undefined&&offset!==null,"missing offset");assert(offset<buf.length,"Trying to read beyond buffer length")}if(offset>=buf.length)return;return buf[offset]};function _readUInt16(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+1<buf.length,"Trying to read beyond buffer length")}var len=buf.length;if(offset>=len)return;if(browserSupport){if(offset+1<len){return buf._dataview.getUint16(offset,littleEndian)}else{var dv=new DataView(new ArrayBuffer(2));dv.setUint8(0,buf[len-1]);return dv.getUint16(0,littleEndian)}}else{var val;if(littleEndian){val=buf[offset];if(offset+1<len)val|=buf[offset+1]<<8}else{val=buf[offset]<<8;if(offset+1<len)val|=buf[offset+1]}return val}}Buffer.prototype.readUInt16LE=function(offset,noAssert){return _readUInt16(this,offset,true,noAssert)};Buffer.prototype.readUInt16BE=function(offset,noAssert){return _readUInt16(this,offset,false,noAssert)};function _readUInt32(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"Trying to read beyond buffer length")}var len=buf.length;if(offset>=len)return;if(browserSupport){if(offset+3<len){return buf._dataview.getUint32(offset,littleEndian)}else{var dv=new DataView(new ArrayBuffer(4));for(var i=0;i+offset<len;i++){dv.setUint8(i,buf[i+offset])}return dv.getUint32(0,littleEndian)}}else{var val;if(littleEndian){if(offset+2<len)val=buf[offset+2]<<16;if(offset+1<len)val|=buf[offset+1]<<8;val|=buf[offset];if(offset+3<len)val=val+(buf[offset+3]<<24>>>0)}else{if(offset+1<len)val=buf[offset+1]<<16;if(offset+2<len)val|=buf[offset+2]<<8;if(offset+3<len)val|=buf[offset+3];val=val+(buf[offset]<<24>>>0)}return val}}Buffer.prototype.readUInt32LE=function(offset,noAssert){return _readUInt32(this,offset,true,noAssert)};Buffer.prototype.readUInt32BE=function(offset,noAssert){return _readUInt32(this,offset,false,noAssert)};Buffer.prototype.readInt8=function(offset,noAssert){var buf=this;if(!noAssert){assert(offset!==undefined&&offset!==null,"missing offset");assert(offset<buf.length,"Trying to read beyond buffer length")}if(offset>=buf.length)return;if(browserSupport){return buf._dataview.getInt8(offset)}else{var neg=buf[offset]&128;if(neg)return(255-buf[offset]+1)*-1;else return buf[offset]}};function _readInt16(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+1<buf.length,"Trying to read beyond buffer length")}var len=buf.length;if(offset>=len)return;if(browserSupport){if(offset+1===len){var dv=new DataView(new ArrayBuffer(2));dv.setUint8(0,buf[len-1]);return dv.getInt16(0,littleEndian)}else{return buf._dataview.getInt16(offset,littleEndian)}}else{var val=_readUInt16(buf,offset,littleEndian,true);var neg=val&32768;if(neg)return(65535-val+1)*-1;else return val}}Buffer.prototype.readInt16LE=function(offset,noAssert){return _readInt16(this,offset,true,noAssert)};Buffer.prototype.readInt16BE=function(offset,noAssert){return _readInt16(this,offset,false,noAssert)};function _readInt32(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"Trying to read beyond buffer length")}var len=buf.length;if(offset>=len)return;if(browserSupport){if(offset+3>=len){var dv=new DataView(new ArrayBuffer(4));for(var i=0;i+offset<len;i++){dv.setUint8(i,buf[i+offset])}return dv.getInt32(0,littleEndian)}else{return buf._dataview.getInt32(offset,littleEndian)}}else{var val=_readUInt32(buf,offset,littleEndian,true);var neg=val&2147483648;if(neg)return(4294967295-val+1)*-1;else return val}}Buffer.prototype.readInt32LE=function(offset,noAssert){return _readInt32(this,offset,true,noAssert)};Buffer.prototype.readInt32BE=function(offset,noAssert){return _readInt32(this,offset,false,noAssert)};function _readFloat(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset+3<buf.length,"Trying to read beyond buffer length")}if(browserSupport){return buf._dataview.getFloat32(offset,littleEndian)}else{return ieee754.read(buf,offset,littleEndian,23,4)}}Buffer.prototype.readFloatLE=function(offset,noAssert){return _readFloat(this,offset,true,noAssert)};Buffer.prototype.readFloatBE=function(offset,noAssert){return _readFloat(this,offset,false,noAssert)};function _readDouble(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset+7<buf.length,"Trying to read beyond buffer length")}if(browserSupport){return buf._dataview.getFloat64(offset,littleEndian)}else{return ieee754.read(buf,offset,littleEndian,52,8)}}Buffer.prototype.readDoubleLE=function(offset,noAssert){return _readDouble(this,offset,true,noAssert)};Buffer.prototype.readDoubleBE=function(offset,noAssert){return _readDouble(this,offset,false,noAssert)};Buffer.prototype.writeUInt8=function(value,offset,noAssert){var buf=this;if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset<buf.length,"trying to write beyond buffer length");verifuint(value,255)}if(offset>=buf.length)return;buf[offset]=value};function _writeUInt16(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+1<buf.length,"trying to write beyond buffer length");verifuint(value,65535)}var len=buf.length;if(offset>=len)return;if(browserSupport){if(offset+1===len){var dv=new DataView(new ArrayBuffer(2));dv.setUint16(0,value,littleEndian);buf[offset]=dv.getUint8(0)}else{buf._dataview.setUint16(offset,value,littleEndian)}}else{for(var i=0,j=Math.min(len-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}}Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){_writeUInt16(this,value,offset,true,noAssert)};Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){_writeUInt16(this,value,offset,false,noAssert)};function _writeUInt32(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"trying to write beyond buffer length");verifuint(value,4294967295)}var len=buf.length;if(offset>=len)return;var i;if(browserSupport){if(offset+3>=len){var dv=new DataView(new ArrayBuffer(4));dv.setUint32(0,value,littleEndian);for(i=0;i+offset<len;i++){buf[i+offset]=dv.getUint8(i)}}else{buf._dataview.setUint32(offset,value,littleEndian)}}else{for(i=0,j=Math.min(len-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}}Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){_writeUInt32(this,value,offset,true,noAssert)};Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){_writeUInt32(this,value,offset,false,noAssert)};Buffer.prototype.writeInt8=function(value,offset,noAssert){var buf=this;if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset<buf.length,"Trying to write beyond buffer length");verifsint(value,127,-128)}if(offset>=buf.length)return;if(browserSupport){buf._dataview.setInt8(offset,value)}else{if(value>=0)buf.writeUInt8(value,offset,noAssert);else buf.writeUInt8(255+value+1,offset,noAssert)}};function _writeInt16(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+1<buf.length,"Trying to write beyond buffer length");verifsint(value,32767,-32768)}var len=buf.length;if(offset>=len)return;if(browserSupport){if(offset+1===len){var dv=new DataView(new ArrayBuffer(2));dv.setInt16(0,value,littleEndian);buf[offset]=dv.getUint8(0)}else{buf._dataview.setInt16(offset,value,littleEndian)}}else{if(value>=0)_writeUInt16(buf,value,offset,littleEndian,noAssert);else _writeUInt16(buf,65535+value+1,offset,littleEndian,noAssert)}}Buffer.prototype.writeInt16LE=function(value,offset,noAssert){_writeInt16(this,value,offset,true,noAssert)};Buffer.prototype.writeInt16BE=function(value,offset,noAssert){_writeInt16(this,value,offset,false,noAssert)};function _writeInt32(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"Trying to write beyond buffer length");verifsint(value,2147483647,-2147483648)}var len=buf.length;if(offset>=len)return;if(browserSupport){if(offset+3>=len){var dv=new DataView(new ArrayBuffer(4));dv.setInt32(0,value,littleEndian);for(var i=0;i+offset<len;i++){buf[i+offset]=dv.getUint8(i)}}else{buf._dataview.setInt32(offset,value,littleEndian)}}else{if(value>=0)_writeUInt32(buf,value,offset,littleEndian,noAssert);else _writeUInt32(buf,4294967295+value+1,offset,littleEndian,noAssert)}}Buffer.prototype.writeInt32LE=function(value,offset,noAssert){_writeInt32(this,value,offset,true,noAssert)};Buffer.prototype.writeInt32BE=function(value,offset,noAssert){_writeInt32(this,value,offset,false,noAssert)};function _writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"Trying to write beyond buffer length");verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38)}var len=buf.length;if(offset>=len)return;if(browserSupport){if(offset+3>=len){var dv=new DataView(new ArrayBuffer(4));dv.setFloat32(0,value,littleEndian);for(var i=0;i+offset<len;i++){buf[i+offset]=dv.getUint8(i)}}else{buf._dataview.setFloat32(offset,value,littleEndian)}}else{ieee754.write(buf,value,offset,littleEndian,23,4)}}Buffer.prototype.writeFloatLE=function(value,offset,noAssert){_writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function(value,offset,noAssert){_writeFloat(this,value,offset,false,noAssert)};function _writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+7<buf.length,"Trying to write beyond buffer length");verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308)}var len=buf.length;if(offset>=len)return;if(browserSupport){if(offset+7>=len){var dv=new DataView(new ArrayBuffer(8));dv.setFloat64(0,value,littleEndian);for(var i=0;i+offset<len;i++){buf[i+offset]=dv.getUint8(i)}}else{buf._dataview.setFloat64(offset,value,littleEndian)}}else{ieee754.write(buf,value,offset,littleEndian,52,8)}}Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){_writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){_writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.fill=function(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;if(typeof value==="string"){value=value.charCodeAt(0)}if(typeof value!=="number"||isNaN(value)){throw new Error("value is not a number")}if(end<start)throw new Error("end < start");if(end===start)return;if(this.length===0)return;if(start<0||start>=this.length){throw new Error("start out of bounds")}if(end<0||end>this.length){throw new Error("end out of bounds")}for(var i=start;i<end;i++){this[i]=value}};Buffer.prototype.inspect=function(){var out=[];var len=this.length;for(var i=0;i<len;i++){out[i]=toHex(this[i]);if(i===exports.INSPECT_MAX_BYTES){out[i+1]="...";break}}return"<Buffer "+out.join(" ")+">"};function BufferToArrayBuffer(){return new Buffer(this).buffer}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}var BP=Buffer.prototype;function augment(arr){arr._isBuffer=true;arr.write=BP.write;arr.toString=BP.toString;arr.toLocaleString=BP.toString;arr.toJSON=BP.toJSON;arr.copy=BP.copy;arr.slice=BP.slice;arr.readUInt8=BP.readUInt8;arr.readUInt16LE=BP.readUInt16LE;arr.readUInt16BE=BP.readUInt16BE;arr.readUInt32LE=BP.readUInt32LE;arr.readUInt32BE=BP.readUInt32BE;arr.readInt8=BP.readInt8;arr.readInt16LE=BP.readInt16LE;arr.readInt16BE=BP.readInt16BE;arr.readInt32LE=BP.readInt32LE;arr.readInt32BE=BP.readInt32BE;arr.readFloatLE=BP.readFloatLE;arr.readFloatBE=BP.readFloatBE;arr.readDoubleLE=BP.readDoubleLE;arr.readDoubleBE=BP.readDoubleBE;arr.writeUInt8=BP.writeUInt8;arr.writeUInt16LE=BP.writeUInt16LE;arr.writeUInt16BE=BP.writeUInt16BE;arr.writeUInt32LE=BP.writeUInt32LE;arr.writeUInt32BE=BP.writeUInt32BE;arr.writeInt8=BP.writeInt8;arr.writeInt16LE=BP.writeInt16LE;arr.writeInt16BE=BP.writeInt16BE;arr.writeInt32LE=BP.writeInt32LE;arr.writeInt32BE=BP.writeInt32BE;arr.writeFloatLE=BP.writeFloatLE;arr.writeFloatBE=BP.writeFloatBE;arr.writeDoubleLE=BP.writeDoubleLE;arr.writeDoubleBE=BP.writeDoubleBE;arr.fill=BP.fill;arr.inspect=BP.inspect;arr.toArrayBuffer=BufferToArrayBuffer;if(arr.byteLength!==0)arr._dataview=new DataView(arr.buffer,arr.byteOffset,arr.byteLength);return arr}function clamp(index,len,defaultValue){if(typeof index!=="number")return defaultValue;index=~~index;if(index>=len)return len;if(index>=0)return index;index+=len;if(index>=0)return index;return 0}function coerce(length){length=~~Math.ceil(+length);return length<0?0:length}function isArray(subject){return(Array.isArray||function(subject){return Object.prototype.toString.call(subject)==="[object Array]"})(subject)}function isArrayish(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&typeof subject==="object"&&typeof subject.length==="number"}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++)if(str.charCodeAt(i)<=127)byteArray.push(str.charCodeAt(i));else{var h=encodeURIComponent(str.charAt(i)).substr(1).split("%");for(var j=0;j<h.length;j++)byteArray.push(parseInt(h[j],16))}return byteArray}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function base64ToBytes(str){return base64.toByteArray(str)}function blitBuffer(src,dst,offset,length){var pos;for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}function verifuint(value,max){assert(typeof value=="number","cannot write a non-number as a number");assert(value>=0,"specified a negative value for writing an unsigned value");assert(value<=max,"value is larger than maximum value for type");assert(Math.floor(value)===value,"value has a fractional component")}function verifsint(value,max,min){assert(typeof value=="number","cannot write a non-number as a number");assert(value<=max,"value larger than maximum allowed value");assert(value>=min,"value smaller than minimum allowed value");assert(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert(typeof value=="number","cannot write a non-number as a number");assert(value<=max,"value larger than maximum allowed value");assert(value>=min,"value smaller than minimum allowed value")}function assert(test,message){if(!test)throw new Error(message||"Failed assertion")}},{"base64-js":3,ieee754:4}],"native-buffer-browserify":[function(require,module,exports){module.exports=require("PcZj9L")},{}],3:[function(require,module,exports){(function(exports){"use strict";var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw"Invalid string. Length must be a multiple of 4"}placeHolders=indexOf(b64,"=");placeHolders=placeHolders>0?b64.length-placeHolders:0;arr=[];l=placeHolders>0?b64.length-4:b64.length;for(i=0,j=0;i<l;i+=4,j+=3){tmp=indexOf(lookup,b64.charAt(i))<<18|indexOf(lookup,b64.charAt(i+1))<<12|indexOf(lookup,b64.charAt(i+2))<<6|indexOf(lookup,b64.charAt(i+3));arr.push((tmp&16711680)>>16);arr.push((tmp&65280)>>8);arr.push(tmp&255)}if(placeHolders===2){tmp=indexOf(lookup,b64.charAt(i))<<2|indexOf(lookup,b64.charAt(i+1))>>4;arr.push(tmp&255)}else if(placeHolders===1){tmp=indexOf(lookup,b64.charAt(i))<<10|indexOf(lookup,b64.charAt(i+1))<<4|indexOf(lookup,b64.charAt(i+2))>>2;arr.push(tmp>>8&255);arr.push(tmp&255)}return arr}function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function tripletToBase64(num){return lookup.charAt(num>>18&63)+lookup.charAt(num>>12&63)+lookup.charAt(num>>6&63)+lookup.charAt(num&63)}for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output+=tripletToBase64(temp)}switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=lookup.charAt(temp>>2);output+=lookup.charAt(temp<<4&63);output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1];output+=lookup.charAt(temp>>10);output+=lookup.charAt(temp>>4&63);output+=lookup.charAt(temp<<2&63);output+="=";break}return output}module.exports.toByteArray=b64ToByteArray;module.exports.fromByteArray=uint8ToBase64})();function indexOf(arr,elt){var len=arr.length;var from=Number(arguments[1])||0;from=from<0?Math.ceil(from):Math.floor(from);if(from<0)from+=len;for(;from<len;from++){if(typeof arr==="string"&&arr.charAt(from)===elt||typeof arr!=="string"&&arr[from]===elt){return from}}return-1}},{}],4:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8);if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=s*128}},{}]},{},[]);module.exports=require("native-buffer-browserify").Buffer},{}],20:[function(require,module,exports){var process=module.exports={};process.nextTick=function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}if(canPost){var queue=[];window.addEventListener("message",function(ev){if(ev.source===window&&ev.data==="process-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("process-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}],21:[function(require,module,exports){var process=require("__browserify_process");function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."
};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPath(path)[3]};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}},{__browserify_process:20}]},{},[17]);